{"version":3,"file":"PageFragmentContainer-legacy-C6CjFmVv.js","sources":["../../../../../../packages/ui/src/page-fragment-container/src/PageFragmentContainer.vue"],"sourcesContent":["<template>\n  <div :id=\"`${config.id || ''}`\" class=\"magic-ui-page-fragment-container\">\n    <Container :config=\"containerConfig\" :model=\"model\"></Container>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, inject } from 'vue';\n\nimport Core from '@tmagic/core';\nimport { MComponent, MNode } from '@tmagic/schema';\n\nimport Container from '../../container';\nimport useApp from '../../useApp';\n\nconst props = withDefaults(\n  defineProps<{\n    config: MComponent;\n    model?: any;\n  }>(),\n  {\n    model: () => ({}),\n  },\n);\n\nconst app: Core | undefined = inject('app');\nconst fragment = computed(() => app?.dsl?.items?.find((page) => page.id === props.config.pageFragmentId));\nconst containerConfig = computed(() => {\n  if (!fragment.value) return { items: [] };\n  const { id, type, items, ...others } = fragment.value;\n  const itemsWithoutId = items.map((item: MNode) => {\n    const { id, ...otherConfig } = item;\n    return otherConfig;\n  });\n  if (app?.platform === 'editor') {\n    return {\n      ...others,\n      items: itemsWithoutId,\n    };\n  }\n  return {\n    ...others,\n    items,\n  };\n});\n\nuseApp({\n  config: props.config,\n  methods: {},\n});\n</script>\n<style scoped>\n.in-editor .magic-ui-page-fragment-container {\n  min-width: 100px;\n  min-height: 100px;\n}\n</style>\n"],"names":["props","__props","app","Vue","fragment","computed","dsl","items","find","page","id","config","pageFragmentId","containerConfig","value","type","others","itemsWithoutId","map","item","id2","otherConfig","platform","useApp","methods"],"mappings":"ioBAeA,MAAAA,EAAAC,EAUAC,EAA8BC,kBAC9BC,EAAiBD,IAAAE,UAAA,IAAAH,GAAAI,KAAAC,OAAAC,MAAAC,GAAAA,EAAAC,KAAAV,EAAAW,OAAAC,mBACjBC,EAAwBV,mBACtB,IAAAC,EAAAU,MAAqB,MAAA,CAAAP,MAAA,IACrB,MAAAG,GAAAA,EAAAK,KAAAA,EAAAR,MAAAA,KAAAS,GAAAZ,EAAAU,MACAG,EAAAV,EAAAW,KAAAC,IACE,MAAAT,GAAAU,KAAAC,GAAAF,EACA,OAAAE,CAAA,IAEF,MAAA,WAAAnB,GAAAoB,SACE,IAAON,EACFT,MAAAU,GAIP,IAAOD,EACFT,QACH,WAIJgB,EAAA,CAAOZ,OAAAX,EAAAW,OACSa,QAAA,CAAA"}