{"version":3,"file":"PageFragmentContainer-D7vXNmj8.js","sources":["../../../../../../packages/ui/src/page-fragment-container/src/PageFragmentContainer.vue"],"sourcesContent":["<template>\n  <div :id=\"`${config.id || ''}`\" class=\"magic-ui-page-fragment-container\">\n    <Container :config=\"containerConfig\" :model=\"model\"></Container>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, inject } from 'vue';\n\nimport Core from '@tmagic/core';\nimport { MComponent, MNode } from '@tmagic/schema';\n\nimport Container from '../../container';\nimport useApp from '../../useApp';\n\nconst props = withDefaults(\n  defineProps<{\n    config: MComponent;\n    model?: any;\n  }>(),\n  {\n    model: () => ({}),\n  },\n);\n\nconst app: Core | undefined = inject('app');\nconst fragment = computed(() => app?.dsl?.items?.find((page) => page.id === props.config.pageFragmentId));\nconst containerConfig = computed(() => {\n  if (!fragment.value) return { items: [] };\n  const { id, type, items, ...others } = fragment.value;\n  const itemsWithoutId = items.map((item: MNode) => {\n    const { id, ...otherConfig } = item;\n    return otherConfig;\n  });\n  if (app?.platform === 'editor') {\n    return {\n      ...others,\n      items: itemsWithoutId,\n    };\n  }\n  return {\n    ...others,\n    items,\n  };\n});\n\nuseApp({\n  config: props.config,\n  methods: {},\n});\n</script>\n<style scoped>\n.in-editor .magic-ui-page-fragment-container {\n  min-width: 100px;\n  min-height: 100px;\n}\n</style>\n"],"names":["props","__props","app","fragment","_b","_a","page","containerConfig","id","type","items","others","itemsWithoutId","item","id2","otherConfig","useApp"],"mappings":"8VAeA,MAAAA,EAAAC,EAUAC,EAA8B,kBAC9BC,EAAiB,IAAA,SAAA,IAAA,SAAA,OAAAC,GAAAC,EAAAH,GAAA,YAAAA,EAAA,MAAA,YAAAG,EAAA,QAAA,YAAAD,EAAA,KAAAE,GAAAA,EAAA,KAAAN,EAAA,OAAA,gBAAA,EACjBO,EAAwB,kBACtB,GAAA,CAAAJ,EAAA,MAAqB,MAAA,CAAA,MAAA,CAAA,GACrB,KAAA,CAAA,GAAAK,EAAA,KAAAC,EAAA,MAAAC,EAAA,GAAAC,CAAA,EAAAR,EAAA,MACAS,EAAAF,EAAA,IAAAG,GAAA,CACE,KAAA,CAAA,GAAAC,EAAA,GAAAC,CAAA,EAAAF,EACA,OAAAE,CAAO,CAAA,EAET,OAAAb,GAAA,YAAAA,EAAA,YAAA,SACE,CAAO,GAAAS,EACF,MAAAC,CACI,EAGX,CAAO,GAAAD,EACF,MAAAD,CACH,CACF,CAAA,EAGF,OAAAM,EAAA,CAAO,OAAAhB,EAAA,OACS,QAAA,CAAA,CACJ,CAAA"}