(function(){System.register([],(function(exports,module){"use strict";return{execute:function(){var __vite_style__=document.createElement("style");__vite_style__.textContent='html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}:focus{outline:0}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration{-webkit-appearance:none;-moz-appearance:none}input[type=search]{-webkit-appearance:none;-moz-appearance:none;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}textarea{overflow:auto;vertical-align:top;resize:vertical}audio,canvas,video{display:inline-block;*display: inline;*zoom: 1;max-width:100%}audio:not([controls]){display:none;height:0}[hidden]{display:none}html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}a:focus{outline:thin dotted}a:active,a:hover{outline:0}img{border:0;-ms-interpolation-mode:bicubic}figure{margin:0}form{margin:0}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0;white-space:normal;*margin-left: -7px}button,input,select,textarea{font-size:100%;margin:0;vertical-align:baseline;*vertical-align: middle}button,input{line-height:normal}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer;*overflow: visible}button[disabled],html input[disabled]{cursor:default}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height: 13px;*width: 13px}input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}textarea{overflow:auto;vertical-align:top}table{border-collapse:collapse;border-spacing:0}html,button,input,select,textarea{color:#222}::-moz-selection{background:#b3d4fc;text-shadow:none}::selection{background:#b3d4fc;text-shadow:none}img{vertical-align:middle}fieldset{border:0;margin:0;padding:0}textarea{resize:vertical}.chromeframe{margin:.2em 0;background:#ccc;color:#000;padding:.2em 0}\n',document.head.appendChild(__vite_style__);var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var events={exports:{}},R="object"==typeof Reflect?Reflect:null,ReflectApply=R&&"function"==typeof R.apply?R.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},ReflectOwnKeys;function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}ReflectOwnKeys=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var NumberIsNaN=Number.isNaN||function(e){return e!=e};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter,events.exports.once=once,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function _addListener(e,t,r,a){var n,o,s;if(checkListener(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=a?[r,s]:[s,r]:a?s.unshift(r):s.push(r),(n=_getMaxListeners(e))>0&&s.length>n&&!s.warned){s.warned=!0;var i=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");i.name="MaxListenersExceededWarning",i.emitter=e,i.type=t,i.count=s.length,ProcessEmitWarning(i)}return e}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var a={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=onceWrapper.bind(a);return n.listener=r,a.wrapFn=n,n}function _listeners(e,t,r){var a=e._events;if(void 0===a)return[];var n=a[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?unwrapListeners(n):arrayClone(n,n.length)}function listenerCount(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function arrayClone(e,t){for(var r=new Array(t),a=0;a<t;++a)r[a]=e[a];return r}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function once(e,t){return new Promise((function(r,a){function n(r){e.removeListener(t,o),a(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",n),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,o,{once:!0}),"error"!==t&&addErrorHandlerIfEventEmitter(e,n,{once:!0})}))}function addErrorHandlerIfEventEmitter(e,t,r){"function"==typeof e.on&&eventTargetAgnosticAddListener(e,"error",t,r)}function eventTargetAgnosticAddListener(e,t,r,a){if("function"==typeof e.on)a.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function n(o){a.once&&e.removeEventListener(t,n),r(o)}))}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if("number"!=typeof e||e<0||NumberIsNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");defaultMaxListeners=e}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||NumberIsNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var a="error"===e,n=this._events;if(void 0!==n)a=a&&void 0===n.error;else if(!a)return!1;if(a){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var i=n[e];if(void 0===i)return!1;if("function"==typeof i)ReflectApply(i,this,t);else{var c=i.length,u=arrayClone(i,c);for(r=0;r<c;++r)ReflectApply(u[r],this,t)}return!0},EventEmitter.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function(e,t){var r,a,n,o,s;if(checkListener(t),void 0===(a=this._events))return this;if(void 0===(r=a[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():spliceOne(r,n),1===r.length&&(a[e]=r[0]),void 0!==a.removeListener&&this.emit("removeListener",e,s||t)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(e){var t,r,a;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,o=Object.keys(r);for(a=0;a<o.length;++a)"removeListener"!==(n=o[a])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(a=t.length-1;a>=0;a--)this.removeListener(e,t[a]);return this},EventEmitter.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};var eventsExports=events.exports;const EventEmitter$1=getDefaultExportFromCjs(eventsExports);var freeGlobal$2="object"==typeof global&&global&&global.Object===Object&&global,freeSelf$1="object"==typeof self&&self&&self.Object===Object&&self,root$2=freeGlobal$2||freeSelf$1||Function("return this")(),Symbol$3=root$2.Symbol,objectProto$u=Object.prototype,hasOwnProperty$o=objectProto$u.hasOwnProperty,nativeObjectToString$3=objectProto$u.toString,symToStringTag$3=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag$1(e){var t=hasOwnProperty$o.call(e,symToStringTag$3),r=e[symToStringTag$3];try{e[symToStringTag$3]=void 0;var a=!0}catch(o){}var n=nativeObjectToString$3.call(e);return a&&(t?e[symToStringTag$3]=r:delete e[symToStringTag$3]),n}var objectProto$t=Object.prototype,nativeObjectToString$2=objectProto$t.toString;function objectToString$1(e){return nativeObjectToString$2.call(e)}var nullTag$1="[object Null]",undefinedTag$1="[object Undefined]",symToStringTag$2=Symbol$3?Symbol$3.toStringTag:void 0;function baseGetTag$1(e){return null==e?void 0===e?undefinedTag$1:nullTag$1:symToStringTag$2&&symToStringTag$2 in Object(e)?getRawTag$1(e):objectToString$1(e)}function isObjectLike$1(e){return null!=e&&"object"==typeof e}var symbolTag$5="[object Symbol]";function isSymbol$1(e){return"symbol"==typeof e||isObjectLike$1(e)&&baseGetTag$1(e)==symbolTag$5}function arrayMap$1(e,t){for(var r=-1,a=null==e?0:e.length,n=Array(a);++r<a;)n[r]=t(e[r],r,e);return n}var isArray$2=Array.isArray,INFINITY$3=1/0,symbolProto$3=Symbol$3?Symbol$3.prototype:void 0,symbolToString$1=symbolProto$3?symbolProto$3.toString:void 0;function baseToString$1(e){if("string"==typeof e)return e;if(isArray$2(e))return arrayMap$1(e,baseToString$1)+"";if(isSymbol$1(e))return symbolToString$1?symbolToString$1.call(e):"";var t=e+"";return"0"==t&&1/e==-INFINITY$3?"-0":t}function isObject$3(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var asyncTag$1="[object AsyncFunction]",funcTag$5="[object Function]",genTag$3="[object GeneratorFunction]",proxyTag$1="[object Proxy]";function isFunction$2(e){if(!isObject$3(e))return!1;var t=baseGetTag$1(e);return t==funcTag$5||t==genTag$3||t==asyncTag$1||t==proxyTag$1}var coreJsData$2=root$2["__core-js_shared__"],maskSrcKey$1=(uid=/[^.]+$/.exec(coreJsData$2&&coreJsData$2.keys&&coreJsData$2.keys.IE_PROTO||""),uid?"Symbol(src)_1."+uid:""),uid;function isMasked$1(e){return!!maskSrcKey$1&&maskSrcKey$1 in e}var funcProto$4=Function.prototype,funcToString$4=funcProto$4.toString;function toSource$1(e){if(null!=e){try{return funcToString$4.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var reRegExpChar$1=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor$1=/^\[object .+?Constructor\]$/,funcProto$3=Function.prototype,objectProto$s=Object.prototype,funcToString$3=funcProto$3.toString,hasOwnProperty$n=objectProto$s.hasOwnProperty,reIsNative$1=RegExp("^"+funcToString$3.call(hasOwnProperty$n).replace(reRegExpChar$1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(e){return!(!isObject$3(e)||isMasked$1(e))&&(isFunction$2(e)?reIsNative$1:reIsHostCtor$1).test(toSource$1(e))}function getValue$1(e,t){return null==e?void 0:e[t]}function getNative$1(e,t){var r=getValue$1(e,t);return baseIsNative$1(r)?r:void 0}var WeakMap$2=getNative$1(root$2,"WeakMap"),objectCreate$1=Object.create,baseCreate$2=function(){function e(){}return function(t){if(!isObject$3(t))return{};if(objectCreate$1)return objectCreate$1(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function copyArray(e,t){var r=-1,a=e.length;for(t||(t=Array(a));++r<a;)t[r]=e[r];return t}var defineProperty$2=function(){try{var e=getNative$1(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();function arrayEach$1(e,t){for(var r=-1,a=null==e?0:e.length;++r<a&&!1!==t(e[r],r,e););return e}var MAX_SAFE_INTEGER$3=9007199254740991,reIsUint$1=/^(?:0|[1-9]\d*)$/;function isIndex$1(e,t){var r=typeof e;return!!(t=null==t?MAX_SAFE_INTEGER$3:t)&&("number"==r||"symbol"!=r&&reIsUint$1.test(e))&&e>-1&&e%1==0&&e<t}function baseAssignValue$1(e,t,r){"__proto__"==t&&defineProperty$2?defineProperty$2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function eq$1(e,t){return e===t||e!=e&&t!=t}var objectProto$r=Object.prototype,hasOwnProperty$m=objectProto$r.hasOwnProperty;function assignValue$1(e,t,r){var a=e[t];hasOwnProperty$m.call(e,t)&&eq$1(a,r)&&(void 0!==r||t in e)||baseAssignValue$1(e,t,r)}function copyObject$1(e,t,r,a){var n=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var i=t[o],c=void 0;void 0===c&&(c=e[i]),n?baseAssignValue$1(r,i,c):assignValue$1(r,i,c)}return r}var MAX_SAFE_INTEGER$2=9007199254740991;function isLength$1(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER$2}function isArrayLike$1(e){return null!=e&&isLength$1(e.length)&&!isFunction$2(e)}var objectProto$q=Object.prototype;function isPrototype$1(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$q)}function baseTimes$1(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var argsTag$5="[object Arguments]";function baseIsArguments$1(e){return isObjectLike$1(e)&&baseGetTag$1(e)==argsTag$5}var objectProto$p=Object.prototype,hasOwnProperty$l=objectProto$p.hasOwnProperty,propertyIsEnumerable$3=objectProto$p.propertyIsEnumerable,isArguments$2=baseIsArguments$1(function(){return arguments}())?baseIsArguments$1:function(e){return isObjectLike$1(e)&&hasOwnProperty$l.call(e,"callee")&&!propertyIsEnumerable$3.call(e,"callee")};function stubFalse$1(){return!1}var freeExports$5="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$5=freeExports$5&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$5=freeModule$5&&freeModule$5.exports===freeExports$5,Buffer$3=moduleExports$5?root$2.Buffer:void 0,nativeIsBuffer$1=Buffer$3?Buffer$3.isBuffer:void 0,isBuffer$2=nativeIsBuffer$1||stubFalse$1,argsTag$4="[object Arguments]",arrayTag$3="[object Array]",boolTag$5="[object Boolean]",dateTag$5="[object Date]",errorTag$4="[object Error]",funcTag$4="[object Function]",mapTag$a="[object Map]",numberTag$5="[object Number]",objectTag$6="[object Object]",regexpTag$5="[object RegExp]",setTag$a="[object Set]",stringTag$5="[object String]",weakMapTag$5="[object WeakMap]",arrayBufferTag$5="[object ArrayBuffer]",dataViewTag$7="[object DataView]",float32Tag$5="[object Float32Array]",float64Tag$5="[object Float64Array]",int8Tag$5="[object Int8Array]",int16Tag$5="[object Int16Array]",int32Tag$5="[object Int32Array]",uint8Tag$5="[object Uint8Array]",uint8ClampedTag$5="[object Uint8ClampedArray]",uint16Tag$5="[object Uint16Array]",uint32Tag$5="[object Uint32Array]",typedArrayTags$1={};function baseIsTypedArray$1(e){return isObjectLike$1(e)&&isLength$1(e.length)&&!!typedArrayTags$1[baseGetTag$1(e)]}function baseUnary$1(e){return function(t){return e(t)}}typedArrayTags$1[float32Tag$5]=typedArrayTags$1[float64Tag$5]=typedArrayTags$1[int8Tag$5]=typedArrayTags$1[int16Tag$5]=typedArrayTags$1[int32Tag$5]=typedArrayTags$1[uint8Tag$5]=typedArrayTags$1[uint8ClampedTag$5]=typedArrayTags$1[uint16Tag$5]=typedArrayTags$1[uint32Tag$5]=!0,typedArrayTags$1[argsTag$4]=typedArrayTags$1[arrayTag$3]=typedArrayTags$1[arrayBufferTag$5]=typedArrayTags$1[boolTag$5]=typedArrayTags$1[dataViewTag$7]=typedArrayTags$1[dateTag$5]=typedArrayTags$1[errorTag$4]=typedArrayTags$1[funcTag$4]=typedArrayTags$1[mapTag$a]=typedArrayTags$1[numberTag$5]=typedArrayTags$1[objectTag$6]=typedArrayTags$1[regexpTag$5]=typedArrayTags$1[setTag$a]=typedArrayTags$1[stringTag$5]=typedArrayTags$1[weakMapTag$5]=!1;var freeExports$4="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$4=freeExports$4&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$4=freeModule$4&&freeModule$4.exports===freeExports$4,freeProcess$1=moduleExports$4&&freeGlobal$2.process,nodeUtil$2=function(){try{var e=freeModule$4&&freeModule$4.require&&freeModule$4.require("util").types;return e||freeProcess$1&&freeProcess$1.binding&&freeProcess$1.binding("util")}catch(t){}}(),nodeIsTypedArray$1=nodeUtil$2&&nodeUtil$2.isTypedArray,isTypedArray$2=nodeIsTypedArray$1?baseUnary$1(nodeIsTypedArray$1):baseIsTypedArray$1,objectProto$o=Object.prototype,hasOwnProperty$k=objectProto$o.hasOwnProperty;function arrayLikeKeys$1(e,t){var r=isArray$2(e),a=!r&&isArguments$2(e),n=!r&&!a&&isBuffer$2(e),o=!r&&!a&&!n&&isTypedArray$2(e),s=r||a||n||o,i=s?baseTimes$1(e.length,String):[],c=i.length;for(var u in e)!t&&!hasOwnProperty$k.call(e,u)||s&&("length"==u||n&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||isIndex$1(u,c))||i.push(u);return i}function overArg$1(e,t){return function(r){return e(t(r))}}var nativeKeys$2=overArg$1(Object.keys,Object),objectProto$n=Object.prototype,hasOwnProperty$j=objectProto$n.hasOwnProperty;function baseKeys$1(e){if(!isPrototype$1(e))return nativeKeys$2(e);var t=[];for(var r in Object(e))hasOwnProperty$j.call(e,r)&&"constructor"!=r&&t.push(r);return t}function keys$1(e){return isArrayLike$1(e)?arrayLikeKeys$1(e):baseKeys$1(e)}function nativeKeysIn$1(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}var objectProto$m=Object.prototype,hasOwnProperty$i=objectProto$m.hasOwnProperty;function baseKeysIn$1(e){if(!isObject$3(e))return nativeKeysIn$1(e);var t=isPrototype$1(e),r=[];for(var a in e)("constructor"!=a||!t&&hasOwnProperty$i.call(e,a))&&r.push(a);return r}function keysIn$1(e){return isArrayLike$1(e)?arrayLikeKeys$1(e,!0):baseKeysIn$1(e)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(e,t){if(isArray$2(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!isSymbol$1(e))||(reIsPlainProp.test(e)||!reIsDeepProp.test(e)||null!=t&&e in Object(t))}var nativeCreate$2=getNative$1(Object,"create");function hashClear$1(){this.__data__=nativeCreate$2?nativeCreate$2(null):{},this.size=0}function hashDelete$1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HASH_UNDEFINED$4="__lodash_hash_undefined__",objectProto$l=Object.prototype,hasOwnProperty$h=objectProto$l.hasOwnProperty;function hashGet$1(e){var t=this.__data__;if(nativeCreate$2){var r=t[e];return r===HASH_UNDEFINED$4?void 0:r}return hasOwnProperty$h.call(t,e)?t[e]:void 0}var objectProto$k=Object.prototype,hasOwnProperty$g=objectProto$k.hasOwnProperty;function hashHas$1(e){var t=this.__data__;return nativeCreate$2?void 0!==t[e]:hasOwnProperty$g.call(t,e)}var HASH_UNDEFINED$3="__lodash_hash_undefined__";function hashSet$1(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nativeCreate$2&&void 0===t?HASH_UNDEFINED$3:t,this}function Hash$1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function listCacheClear$1(){this.__data__=[],this.size=0}function assocIndexOf$1(e,t){for(var r=e.length;r--;)if(eq$1(e[r][0],t))return r;return-1}Hash$1.prototype.clear=hashClear$1,Hash$1.prototype.delete=hashDelete$1,Hash$1.prototype.get=hashGet$1,Hash$1.prototype.has=hashHas$1,Hash$1.prototype.set=hashSet$1;var arrayProto$1=Array.prototype,splice$1=arrayProto$1.splice;function listCacheDelete$1(e){var t=this.__data__,r=assocIndexOf$1(t,e);return!(r<0)&&(r==t.length-1?t.pop():splice$1.call(t,r,1),--this.size,!0)}function listCacheGet$1(e){var t=this.__data__,r=assocIndexOf$1(t,e);return r<0?void 0:t[r][1]}function listCacheHas$1(e){return assocIndexOf$1(this.__data__,e)>-1}function listCacheSet$1(e,t){var r=this.__data__,a=assocIndexOf$1(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}function ListCache$1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}ListCache$1.prototype.clear=listCacheClear$1,ListCache$1.prototype.delete=listCacheDelete$1,ListCache$1.prototype.get=listCacheGet$1,ListCache$1.prototype.has=listCacheHas$1,ListCache$1.prototype.set=listCacheSet$1;var Map$3=getNative$1(root$2,"Map");function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash$1,map:new(Map$3||ListCache$1),string:new Hash$1}}function isKeyable$1(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function getMapData$1(e,t){var r=e.__data__;return isKeyable$1(t)?r["string"==typeof t?"string":"hash"]:r.map}function mapCacheDelete$1(e){var t=getMapData$1(this,e).delete(e);return this.size-=t?1:0,t}function mapCacheGet$1(e){return getMapData$1(this,e).get(e)}function mapCacheHas$1(e){return getMapData$1(this,e).has(e)}function mapCacheSet$1(e,t){var r=getMapData$1(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}function MapCache$1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}MapCache$1.prototype.clear=mapCacheClear$1,MapCache$1.prototype.delete=mapCacheDelete$1,MapCache$1.prototype.get=mapCacheGet$1,MapCache$1.prototype.has=mapCacheHas$1,MapCache$1.prototype.set=mapCacheSet$1;var FUNC_ERROR_TEXT="Expected a function";function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT);var r=function(){var a=arguments,n=t?t.apply(this,a):a[0],o=r.cache;if(o.has(n))return o.get(n);var s=e.apply(this,a);return r.cache=o.set(n,s)||o,s};return r.cache=new(memoize.Cache||MapCache$1),r}memoize.Cache=MapCache$1;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(e){var t=memoize(e,(function(e){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),e})),r=t.cache;return t}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(rePropName,(function(e,r,a,n){t.push(a?n.replace(reEscapeChar,"$1"):r||e)})),t}));function toString$2(e){return null==e?"":baseToString$1(e)}function castPath(e,t){return isArray$2(e)?e:isKey(e,t)?[e]:stringToPath(toString$2(e))}var INFINITY$2=1/0;function toKey(e){if("string"==typeof e||isSymbol$1(e))return e;var t=e+"";return"0"==t&&1/e==-INFINITY$2?"-0":t}function arrayPush$1(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}var getPrototype$2=overArg$1(Object.getPrototypeOf,Object);function stackClear$1(){this.__data__=new ListCache$1,this.size=0}function stackDelete$1(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function stackGet$1(e){return this.__data__.get(e)}function stackHas$1(e){return this.__data__.has(e)}var LARGE_ARRAY_SIZE$2=200;function stackSet$1(e,t){var r=this.__data__;if(r instanceof ListCache$1){var a=r.__data__;if(!Map$3||a.length<LARGE_ARRAY_SIZE$2-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new MapCache$1(a)}return r.set(e,t),this.size=r.size,this}function Stack$1(e){var t=this.__data__=new ListCache$1(e);this.size=t.size}function baseAssign(e,t){return e&&copyObject$1(t,keys$1(t),e)}function baseAssignIn(e,t){return e&&copyObject$1(t,keysIn$1(t),e)}Stack$1.prototype.clear=stackClear$1,Stack$1.prototype.delete=stackDelete$1,Stack$1.prototype.get=stackGet$1,Stack$1.prototype.has=stackHas$1,Stack$1.prototype.set=stackSet$1;var freeExports$3="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$3=freeExports$3&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$3=freeModule$3&&freeModule$3.exports===freeExports$3,Buffer$2=moduleExports$3?root$2.Buffer:void 0,allocUnsafe=Buffer$2?Buffer$2.allocUnsafe:void 0;function cloneBuffer$1(e,t){if(t)return e.slice();var r=e.length,a=allocUnsafe?allocUnsafe(r):new e.constructor(r);return e.copy(a),a}function arrayFilter$1(e,t){for(var r=-1,a=null==e?0:e.length,n=0,o=[];++r<a;){var s=e[r];t(s,r,e)&&(o[n++]=s)}return o}function stubArray$1(){return[]}var objectProto$j=Object.prototype,propertyIsEnumerable$2=objectProto$j.propertyIsEnumerable,nativeGetSymbols$2=Object.getOwnPropertySymbols,getSymbols$2=nativeGetSymbols$2?function(e){return null==e?[]:(e=Object(e),arrayFilter$1(nativeGetSymbols$2(e),(function(t){return propertyIsEnumerable$2.call(e,t)})))}:stubArray$1;function copySymbols(e,t){return copyObject$1(e,getSymbols$2(e),t)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(e){for(var t=[];e;)arrayPush$1(t,getSymbols$2(e)),e=getPrototype$2(e);return t}:stubArray$1;function copySymbolsIn(e,t){return copyObject$1(e,getSymbolsIn(e),t)}function baseGetAllKeys$1(e,t,r){var a=t(e);return isArray$2(e)?a:arrayPush$1(a,r(e))}function getAllKeys$1(e){return baseGetAllKeys$1(e,keys$1,getSymbols$2)}function getAllKeysIn(e){return baseGetAllKeys$1(e,keysIn$1,getSymbolsIn)}var DataView$2=getNative$1(root$2,"DataView"),Promise$3=getNative$1(root$2,"Promise"),Set$2=getNative$1(root$2,"Set"),mapTag$9="[object Map]",objectTag$5="[object Object]",promiseTag$1="[object Promise]",setTag$9="[object Set]",weakMapTag$4="[object WeakMap]",dataViewTag$6="[object DataView]",dataViewCtorString$1=toSource$1(DataView$2),mapCtorString$1=toSource$1(Map$3),promiseCtorString$1=toSource$1(Promise$3),setCtorString$1=toSource$1(Set$2),weakMapCtorString$1=toSource$1(WeakMap$2),getTag$2=baseGetTag$1;(DataView$2&&getTag$2(new DataView$2(new ArrayBuffer(1)))!=dataViewTag$6||Map$3&&getTag$2(new Map$3)!=mapTag$9||Promise$3&&getTag$2(Promise$3.resolve())!=promiseTag$1||Set$2&&getTag$2(new Set$2)!=setTag$9||WeakMap$2&&getTag$2(new WeakMap$2)!=weakMapTag$4)&&(getTag$2=function(e){var t=baseGetTag$1(e),r=t==objectTag$5?e.constructor:void 0,a=r?toSource$1(r):"";if(a)switch(a){case dataViewCtorString$1:return dataViewTag$6;case mapCtorString$1:return mapTag$9;case promiseCtorString$1:return promiseTag$1;case setCtorString$1:return setTag$9;case weakMapCtorString$1:return weakMapTag$4}return t});var objectProto$i=Object.prototype,hasOwnProperty$f=objectProto$i.hasOwnProperty;function initCloneArray$1(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty$f.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Uint8Array$2=root$2.Uint8Array;function cloneArrayBuffer$1(e){var t=new e.constructor(e.byteLength);return new Uint8Array$2(t).set(new Uint8Array$2(e)),t}function cloneDataView$1(e,t){var r=t?cloneArrayBuffer$1(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var reFlags$1=/\w*$/;function cloneRegExp$1(e){var t=new e.constructor(e.source,reFlags$1.exec(e));return t.lastIndex=e.lastIndex,t}var symbolProto$2=Symbol$3?Symbol$3.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function cloneSymbol$1(e){return symbolValueOf$1?Object(symbolValueOf$1.call(e)):{}}function cloneTypedArray$1(e,t){var r=t?cloneArrayBuffer$1(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var boolTag$4="[object Boolean]",dateTag$4="[object Date]",mapTag$8="[object Map]",numberTag$4="[object Number]",regexpTag$4="[object RegExp]",setTag$8="[object Set]",stringTag$4="[object String]",symbolTag$4="[object Symbol]",arrayBufferTag$4="[object ArrayBuffer]",dataViewTag$5="[object DataView]",float32Tag$4="[object Float32Array]",float64Tag$4="[object Float64Array]",int8Tag$4="[object Int8Array]",int16Tag$4="[object Int16Array]",int32Tag$4="[object Int32Array]",uint8Tag$4="[object Uint8Array]",uint8ClampedTag$4="[object Uint8ClampedArray]",uint16Tag$4="[object Uint16Array]",uint32Tag$4="[object Uint32Array]";function initCloneByTag$1(e,t,r){var a=e.constructor;switch(t){case arrayBufferTag$4:return cloneArrayBuffer$1(e);case boolTag$4:case dateTag$4:return new a(+e);case dataViewTag$5:return cloneDataView$1(e,r);case float32Tag$4:case float64Tag$4:case int8Tag$4:case int16Tag$4:case int32Tag$4:case uint8Tag$4:case uint8ClampedTag$4:case uint16Tag$4:case uint32Tag$4:return cloneTypedArray$1(e,r);case mapTag$8:return new a;case numberTag$4:case stringTag$4:return new a(e);case regexpTag$4:return cloneRegExp$1(e);case setTag$8:return new a;case symbolTag$4:return cloneSymbol$1(e)}}function initCloneObject$1(e){return"function"!=typeof e.constructor||isPrototype$1(e)?{}:baseCreate$2(getPrototype$2(e))}var mapTag$7="[object Map]";function baseIsMap$1(e){return isObjectLike$1(e)&&getTag$2(e)==mapTag$7}var nodeIsMap$1=nodeUtil$2&&nodeUtil$2.isMap,isMap$2=nodeIsMap$1?baseUnary$1(nodeIsMap$1):baseIsMap$1,setTag$7="[object Set]";function baseIsSet$1(e){return isObjectLike$1(e)&&getTag$2(e)==setTag$7}var nodeIsSet$1=nodeUtil$2&&nodeUtil$2.isSet,isSet$2=nodeIsSet$1?baseUnary$1(nodeIsSet$1):baseIsSet$1,CLONE_DEEP_FLAG$2=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$2=4,argsTag$3="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$3="[object Error]",funcTag$3="[object Function]",genTag$2="[object GeneratorFunction]",mapTag$6="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$6="[object Set]",stringTag$3="[object String]",symbolTag$3="[object Symbol]",weakMapTag$3="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$3="[object Float32Array]",float64Tag$3="[object Float64Array]",int8Tag$3="[object Int8Array]",int16Tag$3="[object Int16Array]",int32Tag$3="[object Int32Array]",uint8Tag$3="[object Uint8Array]",uint8ClampedTag$3="[object Uint8ClampedArray]",uint16Tag$3="[object Uint16Array]",uint32Tag$3="[object Uint32Array]",cloneableTags$1={};function baseClone$1(e,t,r,a,n,o){var s,i=t&CLONE_DEEP_FLAG$2,c=t&CLONE_FLAT_FLAG,u=t&CLONE_SYMBOLS_FLAG$2;if(void 0!==s)return s;if(!isObject$3(e))return e;var l=isArray$2(e);if(l){if(s=initCloneArray$1(e),!i)return copyArray(e,s)}else{var p=getTag$2(e),f=p==funcTag$3||p==genTag$2;if(isBuffer$2(e))return cloneBuffer$1(e,i);if(p==objectTag$4||p==argsTag$3||f&&!n){if(s=c||f?{}:initCloneObject$1(e),!i)return c?copySymbolsIn(e,baseAssignIn(s,e)):copySymbols(e,baseAssign(s,e))}else{if(!cloneableTags$1[p])return n?e:{};s=initCloneByTag$1(e,p,i)}}o||(o=new Stack$1);var d=o.get(e);if(d)return d;o.set(e,s),isSet$2(e)?e.forEach((function(a){s.add(baseClone$1(a,t,r,a,e,o))})):isMap$2(e)&&e.forEach((function(a,n){s.set(n,baseClone$1(a,t,r,n,e,o))}));var g=l?void 0:(u?c?getAllKeysIn:getAllKeys$1:c?keysIn$1:keys$1)(e);return arrayEach$1(g||e,(function(a,n){g&&(a=e[n=a]),assignValue$1(s,n,baseClone$1(a,t,r,n,e,o))})),s}cloneableTags$1[argsTag$3]=cloneableTags$1[arrayTag$2]=cloneableTags$1[arrayBufferTag$3]=cloneableTags$1[dataViewTag$4]=cloneableTags$1[boolTag$3]=cloneableTags$1[dateTag$3]=cloneableTags$1[float32Tag$3]=cloneableTags$1[float64Tag$3]=cloneableTags$1[int8Tag$3]=cloneableTags$1[int16Tag$3]=cloneableTags$1[int32Tag$3]=cloneableTags$1[mapTag$6]=cloneableTags$1[numberTag$3]=cloneableTags$1[objectTag$4]=cloneableTags$1[regexpTag$3]=cloneableTags$1[setTag$6]=cloneableTags$1[stringTag$3]=cloneableTags$1[symbolTag$3]=cloneableTags$1[uint8Tag$3]=cloneableTags$1[uint8ClampedTag$3]=cloneableTags$1[uint16Tag$3]=cloneableTags$1[uint32Tag$3]=!0,cloneableTags$1[errorTag$3]=cloneableTags$1[funcTag$3]=cloneableTags$1[weakMapTag$3]=!1;var CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$1=4;function cloneDeep$1(e){return baseClone$1(e,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$1)}function hasPath(e,t,r){for(var a=-1,n=(t=castPath(t,e)).length,o=!1;++a<n;){var s=toKey(t[a]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++a!=n?o:!!(n=null==e?0:e.length)&&isLength$1(n)&&isIndex$1(s,n)&&(isArray$2(e)||isArguments$2(e))}var objectProto$h=Object.prototype,hasOwnProperty$e=objectProto$h.hasOwnProperty;function baseHas(e,t){return null!=e&&hasOwnProperty$e.call(e,t)}function has(e,t){return null!=e&&hasPath(e,t,baseHas)}var mapTag$5="[object Map]",setTag$5="[object Set]",objectProto$g=Object.prototype,hasOwnProperty$d=objectProto$g.hasOwnProperty;function isEmpty(e){if(null==e)return!0;if(isArrayLike$1(e)&&(isArray$2(e)||"string"==typeof e||"function"==typeof e.splice||isBuffer$2(e)||isTypedArray$2(e)||isArguments$2(e)))return!e.length;var t=getTag$2(e);if(t==mapTag$5||t==setTag$5)return!e.size;if(isPrototype$1(e))return!baseKeys$1(e).length;for(var r in e)if(hasOwnProperty$d.call(e,r))return!1;return!0}function baseSet(e,t,r,a){if(!isObject$3(e))return e;for(var n=-1,o=(t=castPath(t,e)).length,s=o-1,i=e;null!=i&&++n<o;){var c=toKey(t[n]),u=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(n!=s){var l=i[c];void 0===(u=void 0)&&(u=isObject$3(l)?l:isIndex$1(t[n+1])?[]:{})}assignValue$1(i,c,u),i=i[c]}return e}function set(e,t,r){return null==e?e:baseSet(e,t,r)}var dayjs_min={exports:{}};!function(e,t){e.exports=function(){var e=1e3,t=6e4,r=36e5,a="millisecond",n="second",o="minute",s="hour",i="day",c="week",u="month",l="quarter",p="year",f="date",d="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},y=function(e,t,r){var a=String(e);return!a||a.length>=t?e:""+Array(t+1-a.length).join(r)+e},b={s:y,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),a=Math.floor(r/60),n=r%60;return(t<=0?"+":"-")+y(a,2,"0")+":"+y(n,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var a=12*(r.year()-t.year())+(r.month()-t.month()),n=t.clone().add(a,u),o=r-n<0,s=t.clone().add(a+(o?-1:1),u);return+(-(a+(r-n)/(o?n-s:s-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:p,w:c,d:i,D:f,h:s,m:o,s:n,ms:a,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},m="en",v={};v[m]=$;var T="$isDayjsObject",S=function(e){return e instanceof A||!(!e||!e[T])},j=function e(t,r,a){var n;if(!t)return m;if("string"==typeof t){var o=t.toLowerCase();v[o]&&(n=o),r&&(v[o]=r,n=o);var s=t.split("-");if(!n&&s.length>1)return e(s[0])}else{var i=t.name;v[i]=t,n=i}return!a&&n&&(m=n),n||!a&&m},E=function(e,t){if(S(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new A(r)},_=b;_.l=j,_.i=S,_.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function $(e){this.$L=j(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[T]=!0}var y=$.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(_.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var a=t.match(g);if(a){var n=a[2]-1||0,o=(a[7]||"0").substring(0,3);return r?new Date(Date.UTC(a[1],n,a[3]||1,a[4]||0,a[5]||0,a[6]||0,o)):new Date(a[1],n,a[3]||1,a[4]||0,a[5]||0,a[6]||0,o)}}return new Date(t)}(e),this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return _},y.isValid=function(){return!(this.$d.toString()===d)},y.isSame=function(e,t){var r=E(e);return this.startOf(t)<=r&&r<=this.endOf(t)},y.isAfter=function(e,t){return E(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<E(e)},y.$g=function(e,t,r){return _.u(e)?this[t]:this.set(r,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var r=this,a=!!_.u(t)||t,l=_.p(e),d=function(e,t){var n=_.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return a?n:n.endOf(i)},g=function(e,t){return _.w(r.toDate()[e].apply(r.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},h=this.$W,$=this.$M,y=this.$D,b="set"+(this.$u?"UTC":"");switch(l){case p:return a?d(1,0):d(31,11);case u:return a?d(1,$):d(0,$+1);case c:var m=this.$locale().weekStart||0,v=(h<m?h+7:h)-m;return d(a?y-v:y+(6-v),$);case i:case f:return g(b+"Hours",0);case s:return g(b+"Minutes",1);case o:return g(b+"Seconds",2);case n:return g(b+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var r,c=_.p(e),l="set"+(this.$u?"UTC":""),d=(r={},r[i]=l+"Date",r[f]=l+"Date",r[u]=l+"Month",r[p]=l+"FullYear",r[s]=l+"Hours",r[o]=l+"Minutes",r[n]=l+"Seconds",r[a]=l+"Milliseconds",r)[c],g=c===i?this.$D+(t-this.$W):t;if(c===u||c===p){var h=this.clone().set(f,1);h.$d[d](g),h.init(),this.$d=h.set(f,Math.min(this.$D,h.daysInMonth())).$d}else d&&this.$d[d](g);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[_.p(e)]()},y.add=function(a,l){var f,d=this;a=Number(a);var g=_.p(l),h=function(e){var t=E(d);return _.w(t.date(t.date()+Math.round(e*a)),d)};if(g===u)return this.set(u,this.$M+a);if(g===p)return this.set(p,this.$y+a);if(g===i)return h(1);if(g===c)return h(7);var $=(f={},f[o]=t,f[s]=r,f[n]=e,f)[g]||1,y=this.$d.getTime()+a*$;return _.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var a=e||"YYYY-MM-DDTHH:mm:ssZ",n=_.z(this),o=this.$H,s=this.$m,i=this.$M,c=r.weekdays,u=r.months,l=r.meridiem,p=function(e,r,n,o){return e&&(e[r]||e(t,a))||n[r].slice(0,o)},f=function(e){return _.s(o%12||12,e,"0")},g=l||function(e,t,r){var a=e<12?"AM":"PM";return r?a.toLowerCase():a};return a.replace(h,(function(e,a){return a||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return _.s(t.$y,4,"0");case"M":return i+1;case"MM":return _.s(i+1,2,"0");case"MMM":return p(r.monthsShort,i,u,3);case"MMMM":return p(u,i);case"D":return t.$D;case"DD":return _.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return p(r.weekdaysMin,t.$W,c,2);case"ddd":return p(r.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(o);case"HH":return _.s(o,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return g(o,s,!0);case"A":return g(o,s,!1);case"m":return String(s);case"mm":return _.s(s,2,"0");case"s":return String(t.$s);case"ss":return _.s(t.$s,2,"0");case"SSS":return _.s(t.$ms,3,"0");case"Z":return n}return null}(e)||n.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(a,f,d){var g,h=this,$=_.p(f),y=E(a),b=(y.utcOffset()-this.utcOffset())*t,m=this-y,v=function(){return _.m(h,y)};switch($){case p:g=v()/12;break;case u:g=v();break;case l:g=v()/3;break;case c:g=(m-b)/6048e5;break;case i:g=(m-b)/864e5;break;case s:g=m/r;break;case o:g=m/t;break;case n:g=m/e;break;default:g=m}return d?g:_.a(g)},y.daysInMonth=function(){return this.endOf(u).$D},y.$locale=function(){return v[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),a=j(e,t,!0);return a&&(r.$L=a),r},y.clone=function(){return _.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},$}(),O=A.prototype;return E.prototype=O,[["$ms",a],["$s",n],["$m",o],["$H",s],["$W",i],["$M",u],["$y",p],["$D",f]].forEach((function(e){O[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,A,E),e.$i=!0),E},E.locale=j,E.isDayjs=S,E.unix=function(e){return E(1e3*e)},E.en=v[m],E.Ls=v,E.p={},E}()}(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var utc$1={exports:{}};!function(e,t){e.exports=function(){var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(a,n,o){var s=n.prototype;o.utc=function(e){return new n({date:e,utc:!0,args:arguments})},s.utc=function(t){var r=o(this.toDate(),{locale:this.$L,utc:!0});return t?r.add(this.utcOffset(),e):r},s.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var i=s.parse;s.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),i.call(this,e)};var c=s.init;s.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else c.call(this)};var u=s.utcOffset;s.utcOffset=function(a,n){var o=this.$utils().u;if(o(a))return this.$u?0:o(this.$offset)?u.call(this):this.$offset;if("string"==typeof a&&(a=function(e){void 0===e&&(e="");var a=e.match(t);if(!a)return null;var n=(""+a[0]).match(r)||["-",0,0],o=n[0],s=60*+n[1]+ +n[2];return 0===s?0:"+"===o?s:-s}(a),null===a))return this;var s=Math.abs(a)<=16?60*a:a,i=this;if(n)return i.$offset=s,i.$u=0===a,i;if(0!==a){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(i=this.local().add(s+c,e)).$offset=s,i.$x.$localOffset=c}else i=this.utc();return i};var l=s.format;s.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,t)},s.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var p=s.toDate;s.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var f=s.diff;s.diff=function(e,t,r){if(e&&this.$u===e.$u)return f.call(this,e,t,r);var a=this.local(),n=o(e).local();return f.call(a,n,t,r)}}}()}(utc$1);var utcExports=utc$1.exports;const utc=getDefaultExportFromCjs(utcExports);var a=(e=>(e.CONTAINER="container",e.PAGE="page",e.ROOT="app",e.PAGE_FRAGMENT="page-fragment",e))(a||{}),E=(e=>(e.COMP="comp",e.CODE="code",e.DATA_SOURCE="data-source",e))(E||{}),O=(e=>(e.CODE="code",e))(O||{}),t=(e=>(e.CODE="code",e.DATA_SOURCE_METHOD="data-source-method",e))(t||{});dayjs.extend(utc);const toLine=exports("t",((e="")=>e.replace(/\B([A-Z])/g,"-$1").toLowerCase())),getNodePath=(e,t=[])=>{const r=[],a=function(e,t){if(!Array.isArray(t))return null;for(let n=0,o=t.length;n<o;n++){const o=t[n];if(r.push(o),`${o.id}`==`${e}`)return o;if(o.items){const t=a(e,o.items);if(t)return t}r.pop()}return null};return a(e,t),r},filterXSS=e=>e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),getUrlParam=(e,t)=>{const r=location.href,a=new RegExp(`[?&#]${e}=([^&#]+)`,"gi"),n=r.match(a);let o;return n&&n.length>0?(o=n[n.length-1].split("="),o&&o.length>1?filterXSS(o[1]):""):""},isObject$2=e=>"[object Object]"===Object.prototype.toString.call(e),isPage=e=>!!e&&Boolean(e.type?.toLowerCase()===a.PAGE),isPageFragment=e=>!!e&&Boolean(e.type?.toLowerCase()===a.PAGE_FRAGMENT),getValueByKeyPath=(e="",t={})=>(Array.isArray(e)?e:e.replaceAll(/\[(\d+)\]/g,".$1").split(".")).reduce(((e,t)=>{if(isObject$2(e)||Array.isArray(e))return e[t]}),t),setValueByKeyPath=(e,t,r={})=>set(r,e,t),getNodes=(e,t=[])=>{const r=[],a=function(e,t){if(Array.isArray(t))for(let n=0,o=t.length;n<o;n++){const o=t[n],s=e.findIndex((e=>`${e}`==`${o.id}`));s>-1&&(e.slice(s,1),r.push(o)),o.items&&a(e,o.items)}};return a(e,t),r},getDepKeys=(e={},t)=>Array.from(Object.values(e).reduce(((e,r)=>((r[t]?.keys||[]).forEach((t=>e.add(t))),e)),new Set)),getDepNodeIds=(e={})=>Array.from(Object.values(e).reduce(((e,t)=>(Object.keys(t).forEach((t=>{e.add(t)})),e)),new Set)),replaceChildNode=(e,t,r)=>{const a=getNodePath(e.id,t),n=a.pop();let o=a.pop();if(!n)throw new Error("未找到目标节点");if(!o)throw new Error("未找到父节点");const s=o.items?.findIndex((e=>e.id===n.id));o.items.splice(s,1,e)},DSL_NODE_KEY_COPY_PREFIX="__magic__",compiledNode=(e,t,r={},a)=>{let n=[];if(a){const e=r[a];n=e?.[t.id].keys||[]}else n=getDepKeys(r,t.id);return n.forEach((r=>{const a=`${r}`.replaceAll(/\[(\d+)\]/g,".$1").split("."),n=a.map(((e,t)=>t<a.length-1?e:`${DSL_NODE_KEY_COPY_PREFIX}${e}`)),o=getValueByKeyPath(r,t);let s,i=getValueByKeyPath(n,t);void 0===i&&(setValueByKeyPath(n.join("."),o,t),i=o);try{s=e(i)}catch(c){console.error(c),s=""}setValueByKeyPath(r,s,t)})),t},compiledCond=(e,t,r,a=[])=>{switch("string"==typeof t&&void 0===r&&(r=""),e){case"is":case"=":return t===r;case"not":case"!=":return t!==r;case">":return t>r;case">=":return t>=r;case"<":return t<r;case"<=":return t<=r;case"between":return a.length>1&&t>=a[0]&&t<=a[1];case"not_between":return a.length<2||t<a[0]||t>a[1];case"include":return t?.includes?.(r);case"not_include":return void 0===t||!t.includes?.(r)}return!1},getDefaultValueFromFields=e=>{const t={},r={string:void 0,object:{},array:[],boolean:void 0,number:void 0,null:null,any:void 0};return e.forEach((e=>{if(void 0===e.defaultValue)"object"!==e.type?e.type?t[e.name]=r[e.type]:t[e.name]=void 0:t[e.name]=e.fields?getDefaultValueFromFields(e.fields):r.object;else{if("array"===e.type&&!Array.isArray(e.defaultValue))return void(t[e.name]=r.array);if("object"===e.type&&!isObject$2(e.defaultValue)){if("string"==typeof e.defaultValue){try{t[e.name]=JSON.parse(e.defaultValue)}catch(a){t[e.name]=r.object}return}return void(t[e.name]=r.object)}t[e.name]=cloneDeep$1(e.defaultValue)}})),t},DATA_SOURCE_FIELDS_SELECT_VALUE_PREFIX="ds-field::",addParamToUrl=(e,t=globalThis,r=!0)=>{const a=new URL(t.location.href),{searchParams:n}=a;for(const[s,i]of Object.entries(e))n.set(s,i);const o=a.toString();r?t.location.href=o:t.history.pushState({},"",a)};var DepTargetType=(e=>(e.DEFAULT="default",e.CODE_BLOCK="code-block",e.DATA_SOURCE="data-source",e.DATA_SOURCE_METHOD="data-source-method",e.DATA_SOURCE_COND="data-source-cond",e.RELATED_COMP_WHEN_COPY="related-comp-when-copy",e))(DepTargetType||{});class Target{isTarget;id;name;type=DepTargetType.DEFAULT;deps={};isCollectByDefault;constructor(e){this.isTarget=e.isTarget,this.id=e.id,this.name=e.name,this.isCollectByDefault=e.isCollectByDefault??!0,e.type&&(this.type=e.type),e.initialDeps&&(this.deps=e.initialDeps)}updateDep(e,t){const r=this.deps[e.id]||{name:e.name,keys:[]};e.name&&(r.name=e.name),this.deps[e.id]=r,-1===r.keys.indexOf(t)&&r.keys.push(t)}removeDep(e,t){if(!e)return void Object.keys(this.deps).forEach((e=>{delete this.deps[e]}));const r=this.deps[e.id];if(r)if(t){const a=r.keys.indexOf(t);r.keys.splice(a,1),0===r.keys.length&&delete this.deps[e.id]}else delete this.deps[e.id]}hasDep(e,t){const r=this.deps[e.id];return Boolean(r?.keys.find((e=>e===t)))}destroy(){this.deps={}}}class Watcher{targetsList={};constructor(e){e?.initialTargets&&(this.targetsList=e.initialTargets)}getTargetsList(){return this.targetsList}getTargets(e=DepTargetType.DEFAULT){return this.targetsList[e]||{}}addTarget(e){const t=this.getTargets(e.type)||{};this.targetsList[e.type]=t,t[e.id]=e}getTarget(e,t=DepTargetType.DEFAULT){return this.getTargets(t)[e]}hasTarget(e,t=DepTargetType.DEFAULT){return Boolean(this.getTarget(e,t))}hasSpecifiedTypeTarget(e=DepTargetType.DEFAULT){return Object.keys(this.getTargets(e)).length>0}removeTarget(e,t=DepTargetType.DEFAULT){const r=this.getTargets(t);r[e]&&(r[e].destroy(),delete r[e])}removeTargets(e=DepTargetType.DEFAULT){const t=this.targetsList[e];if(t){for(const e of Object.values(t))e.destroy();delete this.targetsList[e]}}clearTargets(){Object.keys(this.targetsList).forEach((e=>{delete this.targetsList[e]}))}collect(e,t=!1,r){Object.values(this.targetsList).forEach((a=>{Object.values(a).forEach((a=>{!r&&!a.isCollectByDefault||r&&a.type!==r||e.forEach((e=>{a.removeDep(e),this.collectItem(e,a,t)}))}))}))}clear(e){const t=[];Object.values(this.targetsList).forEach((r=>{Object.values(r).forEach((r=>{e?e.forEach((e=>{r.removeDep(e),Array.isArray(e.items)&&e.items.length&&!t.includes(e.id)&&(t.push(e.id),this.clear(e.items))})):r.removeDep()}))}))}clearByType(e,t){const r=[],a=this.getTargets(e);Object.values(a).forEach((e=>{t?t.forEach((t=>{e.removeDep(t),Array.isArray(t.items)&&t.items.length&&!r.includes(t.id)&&(r.push(t.id),this.clear(t.items))})):e.removeDep()}))}collectItem(e,t,r=!1){const a=(n,o="")=>{const s=(n,s)=>{const i="items"===n,c=o?`${o}.${n}`:n;t.isTarget(c,s)?t.updateDep(e,c):!i&&Array.isArray(s)?s.forEach(((e,t)=>{isObject$2(e)&&a(e,`${c}[${t}]`)})):isObject$2(s)&&a(s,c),i&&r&&Array.isArray(s)&&s.forEach((e=>{this.collectItem(e,t,r)}))};Object.entries(n).forEach((([e,t])=>{void 0!==t&&""!==t&&s(e,t)}))};a(e)}}const isDataSourceTemplate=(e,t)=>"string"==typeof e&&e.includes(`${t}`)&&/\$\{([\s\S]+?)\}/.test(e),isUseDataSourceField=(e,t)=>{if(!Array.isArray(e)||"string"!=typeof e[0])return!1;const[r]=e,a=r.indexOf(DATA_SOURCE_FIELDS_SELECT_VALUE_PREFIX);if(-1===a)return!1;return r.substring(a+DATA_SOURCE_FIELDS_SELECT_VALUE_PREFIX.length)===t};var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$1=root$1.Symbol;const Symbol$2=Symbol$1;var objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty$c.call(e,symToStringTag$1),r=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var a=!0}catch(o){}var n=nativeObjectToString$1.call(e);return a&&(t?e[symToStringTag$1]=r:delete e[symToStringTag$1]),n}var objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString(e){return nativeObjectToString.call(e)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}function isObjectLike(e){return null!=e&&"object"==typeof e}var symbolTag$2="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&baseGetTag(e)==symbolTag$2}function arrayMap(e,t){for(var r=-1,a=null==e?0:e.length,n=Array(a);++r<a;)n[r]=t(e[r],r,e);return n}var isArray$1=Array.isArray;const isArray$1$1=isArray$1;var INFINITY$1=1/0,symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(e){if("string"==typeof e)return e;if(isArray$1$1(e))return arrayMap(e,baseToString)+"";if(isSymbol(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return"0"==t&&1/e==-INFINITY$1?"-0":t}function isObject$1(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function identity(e){return e}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(e){if(!isObject$1(e))return!1;var t=baseGetTag(e);return t==funcTag$2||t==genTag$1||t==asyncTag||t==proxyTag}var coreJsData=root$1["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(e){if(null!=e){try{return funcToString$2.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$d=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$b=objectProto$d.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$b).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){return!(!isObject$1(e)||isMasked(e))&&(isFunction$1(e)?reIsNative:reIsHostCtor).test(toSource(e))}function getValue(e,t){return null==e?void 0:e[t]}function getNative(e,t){var r=getValue(e,t);return baseIsNative(r)?r:void 0}var WeakMap=getNative(root$1,"WeakMap");const WeakMap$1=WeakMap;var objectCreate=Object.create,baseCreate=function(){function e(){}return function(t){if(!isObject$1(t))return{};if(objectCreate)return objectCreate(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const baseCreate$1=baseCreate;function apply(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function noop(){}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(e){var t=0,r=0;return function(){var a=nativeNow(),n=HOT_SPAN-(a-r);if(r=a,n>0){if(++t>=HOT_COUNT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function constant(e){return function(){return e}}var defineProperty=function(){try{var e=getNative(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();const defineProperty$1=defineProperty;var baseSetToString=defineProperty$1?function(e,t){return defineProperty$1(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function arrayEach(e,t){for(var r=-1,a=null==e?0:e.length;++r<a&&!1!==t(e[r],r,e););return e}function baseFindIndex(e,t,r,a){for(var n=e.length,o=r+-1;++o<n;)if(t(e[o],o,e))return o;return-1}function baseIsNaN(e){return e!=e}function strictIndexOf(e,t,r){for(var a=r-1,n=e.length;++a<n;)if(e[a]===t)return a;return-1}function baseIndexOf(e,t,r){return t==t?strictIndexOf(e,t,r):baseFindIndex(e,baseIsNaN,r)}function arrayIncludes(e,t){return!!(null==e?0:e.length)&&baseIndexOf(e,t,0)>-1}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,t){var r=typeof e;return!!(t=null==t?MAX_SAFE_INTEGER$1:t)&&("number"==r||"symbol"!=r&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}function baseAssignValue(e,t,r){"__proto__"==t&&defineProperty$1?defineProperty$1(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function eq(e,t){return e===t||e!=e&&t!=t}var objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function assignValue(e,t,r){var a=e[t];hasOwnProperty$a.call(e,t)&&eq(a,r)&&(void 0!==r||t in e)||baseAssignValue(e,t,r)}function copyObject(e,t,r,a){var n=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var i=t[o],c=a?a(r[i],e[i],i,r,e):void 0;void 0===c&&(c=e[i]),n?baseAssignValue(r,i,c):assignValue(r,i,c)}return r}var nativeMax=Math.max;function overRest(e,t,r){return t=nativeMax(void 0===t?e.length-1:t,0),function(){for(var a=arguments,n=-1,o=nativeMax(a.length-t,0),s=Array(o);++n<o;)s[n]=a[t+n];n=-1;for(var i=Array(t+1);++n<t;)i[n]=a[n];return i[t]=r(s),apply(e,this,i)}}function baseRest(e,t){return setToString$1(overRest(e,t,identity),e+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction$1(e)}function isIterateeCall(e,t,r){if(!isObject$1(r))return!1;var a=typeof t;return!!("number"==a?isArrayLike(r)&&isIndex(t,r.length):"string"==a&&t in r)&&eq(r[t],e)}function createAssigner(e){return baseRest((function(t,r){var a=-1,n=r.length,o=n>1?r[n-1]:void 0,s=n>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(n--,o):void 0,s&&isIterateeCall(r[0],r[1],s)&&(o=n<3?void 0:o,n=1),t=Object(t);++a<n;){var i=r[a];i&&e(t,i,a,o)}return t}))}var objectProto$b=Object.prototype;function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$b)}function baseTimes(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var argsTag$2="[object Arguments]";function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==argsTag$2}var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty,propertyIsEnumerable$1=objectProto$a.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&hasOwnProperty$9.call(e,"callee")&&!propertyIsEnumerable$1.call(e,"callee")};const isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$2="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer$1=nativeIsBuffer||stubFalse;const isBuffer$1$1=isBuffer$1;var argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$3="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!typedArrayTags[baseGetTag(e)]}function baseUnary(e){return function(t){return e(t)}}typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$4]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$4]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$2]=!1;var freeExports$1="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1.process,nodeUtil=function(){try{var e=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return e||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(t){}}();const nodeUtil$1=nodeUtil;var nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$1=isTypedArray;var objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function arrayLikeKeys(e,t){var r=isArray$1$1(e),a=!r&&isArguments$1(e),n=!r&&!a&&isBuffer$1$1(e),o=!r&&!a&&!n&&isTypedArray$1(e),s=r||a||n||o,i=s?baseTimes(e.length,String):[],c=i.length;for(var u in e)!t&&!hasOwnProperty$8.call(e,u)||s&&("length"==u||n&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||isIndex(u,c))||i.push(u);return i}function overArg(e,t){return function(r){return e(t(r))}}var nativeKeys=overArg(Object.keys,Object);const nativeKeys$1=nativeKeys;var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function baseKeys(e){if(!isPrototype(e))return nativeKeys$1(e);var t=[];for(var r in Object(e))hasOwnProperty$7.call(e,r)&&"constructor"!=r&&t.push(r);return t}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}function nativeKeysIn(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}var objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function baseKeysIn(e){if(!isObject$1(e))return nativeKeysIn(e);var t=isPrototype(e),r=[];for(var a in e)("constructor"!=a||!t&&hasOwnProperty$6.call(e,a))&&r.push(a);return r}function keysIn(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var assignInWith=createAssigner((function(e,t,r,a){copyObject(t,keysIn(t),e,a)}));const extendWith=assignInWith;var nativeCreate=getNative(Object,"create");const nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function hashGet(e){var t=this.__data__;if(nativeCreate$1){var r=t[e];return r===HASH_UNDEFINED$2?void 0:r}return hasOwnProperty$5.call(t,e)?t[e]:void 0}var objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function hashHas(e){var t=this.__data__;return nativeCreate$1?void 0!==t[e]:hasOwnProperty$4.call(t,e)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nativeCreate$1&&void 0===t?HASH_UNDEFINED$1:t,this}function Hash(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(e,t){for(var r=e.length;r--;)if(eq(e[r][0],t))return r;return-1}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var t=this.__data__,r=assocIndexOf(t,e);return!(r<0)&&(r==t.length-1?t.pop():splice.call(t,r,1),--this.size,!0)}function listCacheGet(e){var t=this.__data__,r=assocIndexOf(t,e);return r<0?void 0:t[r][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var r=this.__data__,a=assocIndexOf(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}function ListCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map");const Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function getMapData(e,t){var r=e.__data__;return isKeyable(t)?r["string"==typeof t?"string":"hash"]:r.map}function mapCacheDelete(e){var t=getMapData(this,e).delete(e);return this.size-=t?1:0,t}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){var r=getMapData(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}function MapCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function toString$1(e){return null==e?"":baseToString(e)}function arrayPush(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable(e){return isArray$1$1(e)||isArguments$1(e)||!!(spreadableSymbol&&e&&e[spreadableSymbol])}function baseFlatten(e,t,r,a,n){var o=-1,s=e.length;for(r||(r=isFlattenable),n||(n=[]);++o<s;){var i=e[o];r(i)&&arrayPush(n,i)}return n}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$4=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$3=objectProto$4.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$1(e){if(!isObjectLike(e)||baseGetTag(e)!=objectTag$2)return!1;var t=getPrototype$1(e);if(null===t)return!0;var r=hasOwnProperty$3.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&funcToString.call(r)==objectCtorString}var domExcTag="[object DOMException]",errorTag$1="[object Error]";function isError(e){if(!isObjectLike(e))return!1;var t=baseGetTag(e);return t==errorTag$1||t==domExcTag||"string"==typeof e.message&&"string"==typeof e.name&&!isPlainObject$1(e)}var attempt=baseRest((function(e,t){try{return apply(e,void 0,t)}catch(r){return isError(r)?r:new Error(r)}}));const attempt$1=attempt;function basePropertyOf(e){return function(t){return null==e?void 0:e[t]}}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}var LARGE_ARRAY_SIZE$1=200;function stackSet(e,t){var r=this.__data__;if(r instanceof ListCache){var a=r.__data__;if(!Map$2||a.length<LARGE_ARRAY_SIZE$1-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new MapCache(a)}return r.set(e,t),this.size=r.size,this}function Stack(e){var t=this.__data__=new ListCache(e);this.size=t.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root$1.Buffer:void 0;function cloneBuffer(e,t){return e.slice()}function arrayFilter(e,t){for(var r=-1,a=null==e?0:e.length,n=0,o=[];++r<a;){var s=e[r];t(s,r,e)&&(o[n++]=s)}return o}function stubArray(){return[]}Buffer&&Buffer.allocUnsafe;var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(e){return null==e?[]:(e=Object(e),arrayFilter(nativeGetSymbols$1(e),(function(t){return propertyIsEnumerable.call(e,t)})))}:stubArray;const getSymbols$1=getSymbols;function baseGetAllKeys(e,t,r){var a=t(e);return isArray$1$1(e)?a:arrayPush(a,r(e))}function getAllKeys(e){return baseGetAllKeys(e,keys,getSymbols$1)}var DataView=getNative(root$1,"DataView");const DataView$1=DataView;var Promise$1=getNative(root$1,"Promise");const Promise$2=Promise$1;var Set$1=getNative(root$1,"Set");const Set$1$1=Set$1;var mapTag$3="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$1$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$2&&getTag(new Map$2)!=mapTag$3||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$1$1&&getTag(new Set$1$1)!=setTag$3||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=function(e){var t=baseGetTag(e),r=t==objectTag$1?e.constructor:void 0,a=r?toSource(r):"";if(a)switch(a){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return t});const getTag$1=getTag;var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function initCloneArray(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty$2.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Uint8Array=root$1.Uint8Array;const Uint8Array$1=Uint8Array;function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new Uint8Array$1(t).set(new Uint8Array$1(e)),t}function cloneDataView(e,t){var r=cloneArrayBuffer(e.buffer);return new e.constructor(r,e.byteOffset,e.byteLength)}var reFlags=/\w*$/;function cloneRegExp(e){var t=new e.constructor(e.source,reFlags.exec(e));return t.lastIndex=e.lastIndex,t}var symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol(e){return symbolValueOf?Object(symbolValueOf.call(e)):{}}function cloneTypedArray(e,t){var r=cloneArrayBuffer(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}var boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(e,t,r){var a=e.constructor;switch(t){case arrayBufferTag$1:return cloneArrayBuffer(e);case boolTag$1:case dateTag$1:return new a(+e);case dataViewTag$1:return cloneDataView(e);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(e);case mapTag$2:return new a;case numberTag$1:case stringTag$1:return new a(e);case regexpTag$1:return cloneRegExp(e);case setTag$2:return new a;case symbolTag$1:return cloneSymbol(e)}}function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:baseCreate$1(getPrototype$1(e))}var mapTag$1="[object Map]";function baseIsMap(e){return isObjectLike(e)&&getTag$1(e)==mapTag$1}var nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;const isMap$1=isMap;var setTag$1="[object Set]";function baseIsSet(e){return isObjectLike(e)&&getTag$1(e)==setTag$1}var nodeIsSet=nodeUtil$1&&nodeUtil$1.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;const isSet$1=isSet;var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};function baseClone(e,t,r,a,n,o){var s;if(void 0!==s)return s;if(!isObject$1(e))return e;var i=isArray$1$1(e);if(i)s=initCloneArray(e);else{var c=getTag$1(e),u=c==funcTag||c==genTag;if(isBuffer$1$1(e))return cloneBuffer(e);if(c==objectTag||c==argsTag||u&&!n)s=u?{}:initCloneObject(e);else{if(!cloneableTags[c])return n?e:{};s=initCloneByTag(e,c)}}o||(o=new Stack);var l=o.get(e);if(l)return l;o.set(e,s),isSet$1(e)?e.forEach((function(a){s.add(baseClone(a,t,r,a,e,o))})):isMap$1(e)&&e.forEach((function(a,n){s.set(n,baseClone(a,t,r,n,e,o))}));var p=i?void 0:getAllKeys(e);return arrayEach(p||e,(function(a,n){p&&(a=e[n=a]),assignValue(s,n,baseClone(a,t,r,n,e,o))})),s}cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(e){return baseClone(e,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(e){return this.__data__.set(e,HASH_UNDEFINED),this}function setCacheHas(e){return this.__data__.has(e)}function SetCache(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new MapCache;++t<r;)this.add(e[t])}function cacheHas(e,t){return e.has(t)}function setToArray(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},escapeHtmlChar=basePropertyOf(htmlEscapes);const escapeHtmlChar$1=escapeHtmlChar;var reUnescapedHtml=/[&<>"']/g,reHasUnescapedHtml=RegExp(reUnescapedHtml.source);function escape(e){return(e=toString$1(e))&&reHasUnescapedHtml.test(e)?e.replace(reUnescapedHtml,escapeHtmlChar$1):e}function baseValues(e,t){return arrayMap(t,(function(t){return e[t]}))}var objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function customDefaultsAssignIn(e,t,r,a){return void 0===e||eq(e,objectProto$1[r])&&!hasOwnProperty$1.call(a,r)?t:e}var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function escapeStringChar(e){return"\\"+stringEscapes[e]}var reInterpolate=/<%=([\s\S]+?)%>/g;const reInterpolate$1=reInterpolate;var reEscape=/<%-([\s\S]+?)%>/g;const reEscape$1=reEscape;var reEvaluate=/<%([\s\S]+?)%>/g;const reEvaluate$1=reEvaluate;var templateSettings={escape:reEscape$1,evaluate:reEvaluate$1,interpolate:reInterpolate$1,variable:"",imports:{_:{escape:escape}}};const templateSettings$1=templateSettings;var INVALID_TEMPL_VAR_ERROR_TEXT="Invalid `variable` option passed into `_.template`",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reForbiddenIdentifierChars=/[()=,{}\[\]\/\s]/,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function template(e,t,r){var a=templateSettings$1.imports._.templateSettings||templateSettings$1;e=toString$1(e),t=extendWith({},t,a,customDefaultsAssignIn);var n,o,s=extendWith({},t.imports,a.imports,customDefaultsAssignIn),i=keys(s),c=baseValues(s,i),u=0,l=t.interpolate||reNoMatch,p="__p += '",f=RegExp((t.escape||reNoMatch).source+"|"+l.source+"|"+(l===reInterpolate$1?reEsTemplate:reNoMatch).source+"|"+(t.evaluate||reNoMatch).source+"|$","g"),d=hasOwnProperty.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(f,(function(t,r,a,s,i,c){return a||(a=s),p+=e.slice(u,c).replace(reUnescapedString,escapeStringChar),r&&(n=!0,p+="' +\n__e("+r+") +\n'"),i&&(o=!0,p+="';\n"+i+";\n__p += '"),a&&(p+="' +\n((__t = ("+a+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),p+="';\n";var g=hasOwnProperty.call(t,"variable")&&t.variable;if(g){if(reForbiddenIdentifierChars.test(g))throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT)}else p="with (obj) {\n"+p+"\n}\n";p=(o?p.replace(reEmptyStringLeading,""):p).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(n?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var h=attempt$1((function(){return Function(i,d+"return "+p).apply(void 0,c)}));if(h.source=p,isError(h))throw h;return h}var INFINITY=1/0,createSet=Set$1$1&&1/setToArray(new Set$1$1([,-0]))[1]==INFINITY?function(e){return new Set$1$1(e)}:noop;const createSet$1=createSet;var LARGE_ARRAY_SIZE=200;function baseUniq(e,t,r){var a=-1,n=arrayIncludes,o=e.length,s=!0,i=[],c=i;if(o>=LARGE_ARRAY_SIZE){var u=createSet$1(e);if(u)return setToArray(u);s=!1,n=cacheHas,c=new SetCache}else c=i;e:for(;++a<o;){var l=e[a],p=l;if(l=0!==l?l:0,s&&p==p){for(var f=c.length;f--;)if(c[f]===p)continue e;i.push(l)}else n(c,p,r)||(c!==i&&c.push(p),i.push(l))}return i}var union=baseRest((function(e){return baseUniq(baseFlatten(e,1,isArrayLikeObject))}));const union$1=union;class DataSource extends EventEmitter$1{isInit=!1;data={};app;mockData;#e="base";#t;#r;#a=[];#n=[];constructor(e){super(),this.#t=e.schema.id,this.#r=e.schema,this.app=e.app,this.setFields(e.schema.fields),this.setMethods(e.schema.methods||[]),"editor"===this.app.platform?(this.mockData=e.schema.mocks?.find((e=>e.useInEditor))?.data||this.getDefaultData(),this.setData(this.mockData)):"boolean"==typeof e.useMock&&e.useMock?(this.mockData=e.schema.mocks?.find((e=>e.enable))?.data||this.getDefaultData(),this.setData(this.mockData)):e.initialData?(this.setData(e.initialData),this.isInit=!0):this.setData(this.getDefaultData())}get id(){return this.#t}get type(){return this.#e}get schema(){return this.#r}get fields(){return this.#a}get methods(){return this.#n}setFields(e){this.#a=e}setMethods(e){this.#n=e}setData(e,t){t?setValueByKeyPath(t,e,this.data):this.data=e;const r={updateData:e,path:t};this.emit("change",r)}getDefaultData(){return getDefaultValueFromFields(this.#a)}async init(){this.isInit=!0}destroy(){this.data={},this.#a=[],this.removeAllListeners()}}const urlencoded=e=>Object.entries(e).reduce(((e,[t,r])=>{let a=r;return"object"==typeof r&&(a=JSON.stringify(r)),void 0!==r?`${e}${e?"&":""}${globalThis.encodeURIComponent(t)}=${globalThis.encodeURIComponent(`${a}`)}`:e}),""),webRequest=async e=>{const{url:t,method:r="GET",headers:a={},params:n={},data:o={},...s}=e,i=urlencoded(n);let c=JSON.stringify(o);a["Content-Type"]?.includes("application/x-www-form-urlencoded")&&(c=urlencoded(o));return(await globalThis.fetch(i?`${t}?${i}`:t,{method:r,headers:a,body:"GET"===r?void 0:c,...s})).json()};class HttpDataSource extends DataSource{isLoading=!1;error;httpOptions;#o;#s=[];#i=[];#e="http";constructor(e){const{options:t}=e.schema;super(e),this.httpOptions=t,"function"==typeof e.request?this.#o=e.request:"function"==typeof globalThis.fetch&&(this.#o=webRequest),this.methods.forEach((e=>{"function"==typeof e.content&&("beforeRequest"===e.timing&&this.#s.push(e.content),"afterRequest"===e.timing&&this.#i.push(e.content))}))}get type(){return this.#e}async init(){this.schema.autoFetch&&await this.request(this.httpOptions),super.init()}async request(e={}){this.isLoading=!0;let t={...this.httpOptions,...e};try{for(const r of this.#s)await r({options:t,params:{},dataSource:this,app:this.app});"function"==typeof this.schema.beforeRequest&&(t=this.schema.beforeRequest(t,{app:this.app,dataSource:this}));let e=this.mockData?this.mockData:await(this.#o?.(t));for(const r of this.#i)await r({res:e,options:t,params:{},dataSource:this,app:this.app});if("function"==typeof this.schema.afterResponse&&(e=this.schema.afterResponse(e,{app:this.app,dataSource:this,options:t})),this.schema.responseOptions?.dataPath){const t=getValueByKeyPath(this.schema.responseOptions.dataPath,e);this.setData(t)}else this.setData(e);this.error=void 0}catch(r){this.error={msg:r.message},this.emit("error",r)}this.isLoading=!1}get(e){return this.request({...e,method:"GET"})}post(e){return this.request({...e,method:"POST"})}}const compliedConditions=(e,t)=>{if(!e.displayConds||!Array.isArray(e.displayConds)||!e.displayConds.length)return!0;for(const{cond:r}of e.displayConds){if(!r)continue;let e=!0;for(const{op:a,value:n,range:o,field:s}of r){const[r,...i]=s;if(!t[r]||!i.length)break;const c=getValueByKeyPath(i.join("."),t[r]);if(!compiledCond(a,c,n,o)){e=!1;break}}if(e)return!0}return!1},updateNode=(e,t)=>{if(isPage(e)||isPageFragment(e)){const r=t.items?.findIndex((t=>t.id===e.id));t.items.splice(r,1,e)}else replaceChildNode(e,t.items)},createIteratorContentData=(e,t,r=[])=>{const a={[t]:{}};return r.reduce(((t,a,n)=>(t[a]=n===r.length-1?e:{},t[a])),a[t]),a},compliedDataSourceField=(e,t)=>{const[r,...a]=e,n=r.indexOf(DATA_SOURCE_FIELDS_SELECT_VALUE_PREFIX);if(n>-1){const o=t[r.substring(n+DATA_SOURCE_FIELDS_SELECT_VALUE_PREFIX.length)];return o?getValueByKeyPath(a.join("."),o):e}return e},compiledNodeField=(e,t)=>"string"==typeof e?template(e)(t):e?.isBindDataSource&&e.dataSourceId?t[e.dataSourceId]:e?.isBindDataSourceField&&e.dataSourceId&&"string"==typeof e.template?template(e.template)(t[e.dataSourceId]):Array.isArray(e)&&"string"==typeof e[0]?compliedDataSourceField(e,t):e,compliedIteratorItems=(e,t,r,a=[])=>{const n=new Watcher;n.addTarget(new Target({id:r,isTarget:(e,t)=>!`${e}`.startsWith(DSL_NODE_KEY_COPY_PREFIX)&&(isDataSourceTemplate(t,r)||isUseDataSourceField(t,r))})),n.collect(t,!0);const{deps:o}=n.getTarget(r);return Object.keys(o).length?t.map((t=>o[t.id]?.keys.length?compiledNode((t=>{const n=createIteratorContentData(e,r,a);return compiledNodeField(t,n)}),cloneDeep(t),{[r]:o},r):t)):t},registerDataSourceOnDemand=async(e,t)=>{const{dataSourceCondDeps:r={},dataSourceDeps:a={},dataSources:n=[]}=e,o={};n.forEach((e=>{let n=r[e.id]||{};Object.keys(n).length||(n=a[e.id]||{}),Object.keys(n).length&&t[e.type]&&(o[e.type]=t[e.type])}));const s=await Promise.all(Object.values(o).map((e=>e()))),i={};return s.forEach(((e,t)=>{const r=Object.keys(o)[t];i[r]=e.default})),i};class DataSourceManager extends EventEmitter$1{static dataSourceClassMap=new Map;static register(e,t){DataSourceManager.dataSourceClassMap.set(e,t)}static registe(e,t){DataSourceManager.register(e,t)}static getDataSourceClass(e){return DataSourceManager.dataSourceClassMap.get(e)}app;dataSourceMap=new Map;data={};useMock=!1;constructor({app:e,useMock:t,initialData:r}){super(),this.app=e,this.useMock=t,r&&(this.data=r),e.dsl?.dataSources?.forEach((e=>{this.addDataSource(e)}));const a=Array.from(this.dataSourceMap);Promise.allSettled(a.map((([,e])=>this.init(e)))).then((e=>{const t={};e.forEach(((e,r)=>{if("fulfilled"===e.status){const e=a[r][0];t[e]=this.data[e]}})),this.emit("init",t)}))}async init(e){if(e.isInit)return;if(this.app.jsEngine&&e.schema.disabledInitInJsEngine?.includes(this.app.jsEngine))return;const t=[],r=[];e.methods.forEach((e=>{"function"==typeof e.content&&("beforeInit"===e.timing&&t.push(e.content),"afterInit"===e.timing&&r.push(e.content))}));for(const a of t)await a({params:{},dataSource:e,app:this.app});await e.init();for(const a of r)await a({params:{},dataSource:e,app:this.app})}get(e){return this.dataSourceMap.get(e)}async addDataSource(e){if(!e)return;const t=new(DataSourceManager.dataSourceClassMap.get(e.type)||DataSource)({app:this.app,schema:e,request:this.app.request,useMock:this.useMock,initialData:this.data[e.id]});this.dataSourceMap.set(e.id,t),this.data[t.id]=t.data,t.on("change",(e=>{this.setData(t,e)}))}setData(e,t){this.data[e.id]=e.data,this.emit("change",e.id,t)}removeDataSource(e){this.get(e)?.destroy(),delete this.data[e],this.dataSourceMap.delete(e)}updateSchema(e){e.forEach((e=>{if(!this.get(e.id))return;this.removeDataSource(e.id),this.addDataSource(e);const t=this.get(e.id);t&&this.init(t)}))}compiledNode({items:e,...t},r,a=!1){const n=cloneDeep(t);return e&&(n.items=Array.isArray(e)&&a?e.map((e=>this.compiledNode(e,r,a))):e),!1===t.condResult||!1===t.visible?n:compiledNode((e=>compiledNodeField(e,this.data)),n,this.app.dsl?.dataSourceDeps||{},r)}compliedConds(e){return compliedConditions(e,this.data)}compliedIteratorItems(e,t,r=[]){const[a,...n]=r;return this.get(a)?compliedIteratorItems(e,t,a,n):t}destroy(){this.removeAllListeners(),this.data={},this.dataSourceMap.forEach((e=>{e.destroy()})),this.dataSourceMap.clear()}}DataSourceManager.register("http",HttpDataSource);const DataSourceManager$1=DataSourceManager,createDataSourceManager=(e,t,r)=>{const{dsl:a,platform:n}=e;if(!a?.dataSources)return;const o=new DataSourceManager$1({app:e,useMock:t,initialData:r});return a.dataSources&&a.dataSourceCondDeps&&"editor"!==n&&getNodes(getDepNodeIds(a.dataSourceCondDeps),a.items).forEach((e=>{e.condResult=o.compliedConds(e),updateNode(e,a)})),a.dataSources&&a.dataSourceDeps&&getNodes(getDepNodeIds(a.dataSourceDeps),a.items).forEach((e=>{updateNode(o.compiledNode(e),a)})),"nodejs"!==e.jsEngine&&o.on("change",((t,r)=>{const n=a.dataSourceDeps?.[t]||{},s=a.dataSourceCondDeps?.[t]||{},i=union$1([...Object.keys(s),...Object.keys(n)]);o.emit("update-data",getNodes(i,a.items).map((t=>("editor"!==e.platform&&(t.condResult=o.compliedConds(t)),o.compiledNode(t)))),t,r)})),o};class Env{isIos=!1;isIphone=!1;isIpad=!1;isAndroid=!1;isAndroidPad=!1;isMac=!1;isWin=!1;isMqq=!1;isWechat=!1;isWeb=!1;constructor(e=globalThis.navigator.userAgent,t={}){this.isIphone=e.indexOf("iPhone")>=0,this.isIpad=/(iPad).*OS\s([\d_]+)/.test(e),this.isIos=this.isIphone||this.isIpad,this.isAndroid=e.indexOf("Android")>=0,this.isAndroidPad=this.isAndroid&&e.indexOf("Mobile")<0,this.isMac=e.indexOf("Macintosh")>=0,this.isWin=e.indexOf("Windows")>=0,this.isMqq=/QQ\/([\d.]+)/.test(e),this.isWechat=e.indexOf("MicroMessenger")>=0&&e.indexOf("wxwork")<0,this.isWeb=!this.isIos&&!this.isAndroid&&!/(WebOS|BlackBerry)/.test(e),Object.entries(t).forEach((([e,t])=>{this[e]=t}))}}const Env$1=Env,COMMON_EVENT_PREFIX="magic:common:events:",COMMON_METHOD_PREFIX="magic:common:actions:",CommonMethod={SHOW:"show",HIDE:"hide",SCROLL_TO_VIEW:"scrollIntoView",SCROLL_TO_TOP:"scrollToTop"},getCommonEventName=e=>e.startsWith(COMMON_EVENT_PREFIX)?e:`${COMMON_EVENT_PREFIX}${e}`,isCommonMethod=e=>e.startsWith(COMMON_METHOD_PREFIX),getDirectComponent=(e,t)=>{if(!e)return!1;if(!e.id)return getDirectComponent(e.parentElement,t);const r=t.page?.getNode(e.id);return r||!1},commonClickEventHandler=(e,t,r)=>{const a=getDirectComponent(r.target,e);a&&e.emit(getCommonEventName(t),a)},bindCommonEventListener=e=>{"browser"===e.jsEngine&&(window.document.body.addEventListener("click",(t=>{commonClickEventHandler(e,"click",t)})),window.document.body.addEventListener("click",(t=>{commonClickEventHandler(e,"click:capture",t)}),!0))},triggerCommonMethod=(e,t)=>{const{instance:r}=t;if(r)switch(e.replace(COMMON_METHOD_PREFIX,"")){case CommonMethod.SHOW:r.show();break;case CommonMethod.HIDE:r.hide();break;case CommonMethod.SCROLL_TO_VIEW:r.$el?.scrollIntoView({behavior:"smooth"});break;case CommonMethod.SCROLL_TO_TOP:window.scrollTo({top:0,behavior:"smooth"})}};class Store{data={};set(e,t){this.data[e]=t}get(e){return this.data[e]}}class Node extends eventsExports.EventEmitter{data;style;events;instance;page;parent;app;store=new Store;constructor(e){super(),this.page=e.page,this.parent=e.parent,this.app=e.app;const{events:t}=e.config;this.data=e.config,this.events=t||[],this.listenLifeSafe()}setData(e){this.data=e,this.emit("update-data")}destroy(){this.removeAllListeners()}listenLifeSafe(){this.once("created",(async e=>{this.once("destroy",(()=>{this.instance=null,"function"==typeof this.data.destroy&&this.data.destroy(this),this.listenLifeSafe()})),this.instance=e,await this.runHookCode("created")})),this.once("mounted",(async e=>{this.instance=e;const t=this.app.eventQueueMap[e.config.id]||[];for(let r=t.shift();r;r=t.shift())this.app.compActionHandler(r.eventConfig,r.fromCpt,r.args);await this.runHookCode("mounted")}))}async runHookCode(e){if("function"==typeof this.data[e])return void(await this.data[e](this));const r=this.data[e];if(r?.hookType===O.CODE)for(const a of r.hookData){const{codeType:e=t.CODE,codeId:r,params:n={}}=a;let o;const s={app:this.app,params:n};if(e===t.CODE&&"string"==typeof r&&this.app.codeDsl?.[r])o=this.app.codeDsl[r].content;else if(e===t.DATA_SOURCE_METHOD&&Array.isArray(r)&&r.length>1){const e=this.app.dataSourceManager?.get(r[0]);o=e?.methods.find((e=>e.name===r[1]))?.content,s.dataSource=e}o&&"function"==typeof o&&await o(s)}}}const Node$1=Node;class Page extends Node$1{nodes=new Map;constructor(e){super(e),this.setNode(e.config.id,this),this.initNode(e.config,this)}initNode(e,t){const r=new Node$1({config:e,parent:t,page:this,app:this.app});if(this.setNode(e.id,r),"page-fragment-container"===e.type&&e.pageFragmentId){const t=this.app.dsl?.items?.find((t=>t.id===e.pageFragmentId));t&&(e.items=[t])}e.items?.forEach((e=>{this.initNode(e,r)}))}getNode(e){return this.nodes.get(e)}setNode(e,t){this.nodes.set(e,t)}deleteNode(e){this.nodes.delete(e)}destroy(){super.destroy(),this.nodes.clear()}}const Page$1=Page,style2Obj=e=>{if("string"!=typeof e)return e;const t={};return e.split(";").forEach((e=>{if(!e)return;const r=e.split(":");let a=r.shift(),n=r.join(":");a&&(a=a.replace(/^\s*/,"").replace(/\s*$/,""),n=n.replace(/^\s*/,"").replace(/\s*$/,""),a=a.split("-").map(((e,t)=>t>0?`${e[0].toUpperCase()}${e.substr(1)}`:e)).join(""),t[a]=n)})),t},fillBackgroundImage=e=>!e||/^url/.test(e)||/^linear-gradient/.test(e)?e:`url(${e})`,isNumber$1=e=>/^(-?\d+)(\.\d+)?$/.test(e);class App extends eventsExports.EventEmitter{env=new Env$1;dsl;codeDsl;dataSourceManager;page;useMock=!1;platform="mobile";jsEngine="browser";designWidth=375;request;components=new Map;eventQueueMap={};eventList=new Map;constructor(e){super(),this.setEnv(e.ua),this.codeDsl=e.config?.codeBlocks,e.platform&&(this.platform=e.platform),e.jsEngine&&(this.jsEngine=e.jsEngine),"boolean"==typeof e.useMock&&(this.useMock=e.useMock),void 0!==e.designWidth&&this.setDesignWidth(e.designWidth),e.transformStyle&&(this.transformStyle=e.transformStyle),e.request&&(this.request=e.request),e.config&&this.setConfig(e.config,e.curPage),bindCommonEventListener(this)}setEnv(e){this.env=new Env$1(e)}setDesignWidth(e){this.designWidth=e,"browser"===this.jsEngine&&(this.calcFontsize(),globalThis.removeEventListener("resize",this.calcFontsize),globalThis.addEventListener("resize",this.calcFontsize))}transformStyle(e){if(!e)return{};let t={};const r={};t="string"==typeof e?style2Obj(e):{...e};const a="hippy"===this.jsEngine,n=["zIndex","opacity","fontWeight"];return Object.entries(t).forEach((([e,t])=>{"scale"===e&&!r.transform&&a?r.transform=[{scale:t}]:"backgroundImage"!==e||a?"transform"===e&&"string"!=typeof t?r[e]=this.getTransform(t):!n.includes(e)&&t&&/^[-]?[0-9]*[.]?[0-9]*$/.test(t)?r[e]=a?t:t/100+"rem":r[e]=t:t&&(r[e]=fillBackgroundImage(t))})),r}setConfig(e,t){this.dsl=e,!t&&e.items.length&&(t=e.items[0].id),this.dataSourceManager&&this.dataSourceManager.destroy(),this.dataSourceManager=createDataSourceManager(this,this.useMock),this.codeDsl=e.codeBlocks,this.setPage(t||this.page?.data?.id)}addPage(){console.info("addPage 已经弃用")}setPage(e){const t=this.dsl?.items.find((t=>`${t.id}`==`${e}`));if(!t)return this.page&&(this.page.destroy(),this.page=void 0),void super.emit("page-change");t!==this.page?.data&&(this.page&&this.page.destroy(),this.page=new Page$1({config:t,app:this}),super.emit("page-change",this.page),this.bindEvents())}deletePage(){this.page=void 0}getPage(e){return e?this.page&&`${this.page.data.id}`==`${e}`?this.page:void 0:this.page}registerComponent(e,t){this.components.set(e,t)}unregisterComponent(e){this.components.delete(e)}resolveComponent(e){return this.components.get(e)}bindEvents(){if(Array.from(this.eventList.keys()).forEach((e=>{const t=this.eventList.get(e);t&&this.off(t,e)})),this.eventList.clear(),this.page)for(const[,e]of this.page.nodes)e.events?.forEach((t=>{const r=`${t.name}_${e.data.id}`,a=(e,...r)=>{this.eventHandler(t,e,r)};this.eventList.set(a,r),this.on(r,a)}))}emit(e,...t){const[r,...a]=t;return r instanceof Node$1&&r?.data?.id?super.emit(`${String(e)}_${r.data.id}`,r,...a):super.emit(e,...t)}async codeActionHandler(e,t){const{codeId:r="",params:a={}}=e;if(!r||isEmpty(this.codeDsl))return;const n=this.codeDsl?.[r]?.content;"function"==typeof n&&await n({app:this,params:a,eventParams:t})}async compActionHandler(e,t,r){if(!this.page)throw new Error("当前没有页面");const{method:a,to:n}=e,o=this.page.getNode(n);if(!o)throw`ID为${n}的组件不存在`;if(isCommonMethod(a))return triggerCommonMethod(a,o);o.instance?"function"==typeof o.instance[a]&&await o.instance[a](t,...r):this.addEventToMap({eventConfig:e,fromCpt:t,args:r})}async dataSourceActionHandler(e,t){const{dataSourceMethod:r=[],params:a={}}=e,[n,o]=r;if(!n||!o)return;const s=this.dataSourceManager?.get(n);if(!s)return;const i=(s.methods||[]).find((e=>e.name===o));i&&"function"==typeof i.content&&await i.content({app:this,params:a,dataSource:s,eventParams:t})}destroy(){this.removeAllListeners(),this.page=void 0,"browser"===this.jsEngine&&globalThis.removeEventListener("resize",this.calcFontsize)}async eventHandler(e,t,r){if(has(e,"actions")){const{actions:a}=e;for(const e of a)e.actionType===E.COMP?await this.compActionHandler(e,t,r):e.actionType===E.CODE?await this.codeActionHandler(e,r):e.actionType===E.DATA_SOURCE&&await this.dataSourceActionHandler(e,r)}else await this.compActionHandler(e,t,r)}addEventToMap(e){this.eventQueueMap[e.eventConfig.to]?this.eventQueueMap[e.eventConfig.to].push(e):this.eventQueueMap[e.eventConfig.to]=[e]}getTransform(e){if(!e)return[];const t=Object.entries(e).map((([e,t])=>t.trim()?("rotate"===e&&isNumber$1(t)&&(t=`${t}deg`),"hippy"!==this.jsEngine?`${e}(${t})`:{[e]:t}):""));if("hippy"===this.jsEngine)return t;const r=t.join(" ");return r.trim()?r:"none"}calcFontsize(){const{width:e}=document.documentElement.getBoundingClientRect(),t=e/(this.designWidth/100);document.documentElement.style.fontSize=`${t}px`}}const App$1=App,scriptRel="modulepreload",assetsURL=function(e){return"/tmagic-editor/playground/runtime/vue3/page/"+e},seen={},__vitePreload=function(e,t,r){let a=Promise.resolve();return a.then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))},components={page:()=>__vitePreload((()=>module.import("./index-legacy-D5uJM0mQ.js")),void 0),container:()=>__vitePreload((()=>module.import("./Container-legacy-CJLA6aoL.js")),void 0),button:()=>__vitePreload((()=>module.import("./index-legacy-BVVhSUQZ.js")),void 0),text:()=>__vitePreload((()=>module.import("./index-legacy-BKxWxrFq.js")),void 0),img:()=>__vitePreload((()=>module.import("./index-legacy-BbeQGqjl.js")),void 0),qrcode:()=>__vitePreload((()=>module.import("./index-legacy-B-HCVs6u.js")),void 0),overlay:()=>__vitePreload((()=>module.import("./index-legacy-CPGj5G7h.js")),void 0),"page-fragment-container":()=>__vitePreload((()=>module.import("./PageFragmentContainer-legacy-C6CjFmVv.js")),void 0),"page-fragment":()=>__vitePreload((()=>module.import("./PageFragment-legacy-Cj5oZs6n.js")),void 0),"iterator-container":()=>__vitePreload((()=>module.import("./IteratorContainer-legacy-C0HNZlrZ.js")),void 0)},datasources={},plugins={};var axios$3={exports:{}},bind$2=function(e,t){return function(){for(var r=new Array(arguments.length),a=0;a<r.length;a++)r[a]=arguments[a];return e.apply(t,r)}},bind$1=bind$2,toString=Object.prototype.toString;function isArray(e){return Array.isArray(e)}function isUndefined(e){return void 0===e}function isBuffer(e){return null!==e&&!isUndefined(e)&&null!==e.constructor&&!isUndefined(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isArrayBuffer(e){return"[object ArrayBuffer]"===toString.call(e)}function isFormData(e){return"[object FormData]"===toString.call(e)}function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&isArrayBuffer(e.buffer)}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return null!==e&&"object"==typeof e}function isPlainObject(e){if("[object Object]"!==toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function isDate(e){return"[object Date]"===toString.call(e)}function isFile(e){return"[object File]"===toString.call(e)}function isBlob(e){return"[object Blob]"===toString.call(e)}function isFunction(e){return"[object Function]"===toString.call(e)}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isURLSearchParams(e){return"[object URLSearchParams]"===toString.call(e)}function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function forEach(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),isArray(e))for(var r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}function merge(){var e={};function t(t,r){isPlainObject(e[r])&&isPlainObject(t)?e[r]=merge(e[r],t):isPlainObject(t)?e[r]=merge({},t):isArray(t)?e[r]=t.slice():e[r]=t}for(var r=0,a=arguments.length;r<a;r++)forEach(arguments[r],t);return e}function extend(e,t,r){return forEach(t,(function(t,a){e[a]=r&&"function"==typeof t?bind$1(t,r):t})),e}function stripBOM(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}var utils$8={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isPlainObject:isPlainObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,extend:extend,trim:trim,stripBOM:stripBOM},utils$7=utils$8;function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$1=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(utils$7.isURLSearchParams(t))a=t.toString();else{var n=[];utils$7.forEach(t,(function(e,t){null!=e&&(utils$7.isArray(e)?t+="[]":e=[e],utils$7.forEach(e,(function(e){utils$7.isDate(e)?e=e.toISOString():utils$7.isObject(e)&&(e=JSON.stringify(e)),n.push(encode(t)+"="+encode(e))})))})),a=n.join("&")}if(a){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e},utils$6=utils$8;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},InterceptorManager$1.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager$1.prototype.forEach=function(e){utils$6.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var InterceptorManager_1=InterceptorManager$1,utils$5=utils$8,normalizeHeaderName=function(e,t){utils$5.forEach(e,(function(r,a){a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[a])}))},enhanceError=function(e,t,r,a,n){return e.config=t,r&&(e.code=r),e.request=a,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},createError,hasRequiredCreateError,settle,hasRequiredSettle,cookies,hasRequiredCookies,isAbsoluteURL,hasRequiredIsAbsoluteURL,combineURLs,hasRequiredCombineURLs,buildFullPath,hasRequiredBuildFullPath,parseHeaders,hasRequiredParseHeaders,isURLSameOrigin,hasRequiredIsURLSameOrigin,Cancel_1,hasRequiredCancel,xhr,hasRequiredXhr,defaults_1,hasRequiredDefaults;function requireCreateError(){if(hasRequiredCreateError)return createError;hasRequiredCreateError=1;var e=enhanceError;return createError=function(t,r,a,n,o){var s=new Error(t);return e(s,r,a,n,o)},createError}function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var e=requireCreateError();return settle=function(t,r,a){var n=a.config.validateStatus;a.status&&n&&!n(a.status)?r(e("Request failed with status code "+a.status,a.config,null,a.request,a)):t(a)}}function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var e=utils$8;return cookies=e.isStandardBrowserEnv()?{write:function(t,r,a,n,o,s){var i=[];i.push(t+"="+encodeURIComponent(r)),e.isNumber(a)&&i.push("expires="+new Date(a).toGMTString()),e.isString(n)&&i.push("path="+n),e.isString(o)&&i.push("domain="+o),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}function requireIsAbsoluteURL(){return hasRequiredIsAbsoluteURL?isAbsoluteURL:(hasRequiredIsAbsoluteURL=1,isAbsoluteURL=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)})}function requireCombineURLs(){return hasRequiredCombineURLs?combineURLs:(hasRequiredCombineURLs=1,combineURLs=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e})}function requireBuildFullPath(){if(hasRequiredBuildFullPath)return buildFullPath;hasRequiredBuildFullPath=1;var e=requireIsAbsoluteURL(),t=requireCombineURLs();return buildFullPath=function(r,a){return r&&!e(a)?t(r,a):a}}function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var e=utils$8,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(r){var a,n,o,s={};return r?(e.forEach(r.split("\n"),(function(r){if(o=r.indexOf(":"),a=e.trim(r.substr(0,o)).toLowerCase(),n=e.trim(r.substr(o+1)),a){if(s[a]&&t.indexOf(a)>=0)return;s[a]="set-cookie"===a?(s[a]?s[a]:[]).concat([n]):s[a]?s[a]+", "+n:n}})),s):s}}function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var e=utils$8;return isURLSameOrigin=e.isStandardBrowserEnv()?function(){var t,r=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");function n(e){var t=e;return r&&(a.setAttribute("href",t),t=a.href),a.setAttribute("href",t),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}return t=n(window.location.href),function(r){var a=e.isString(r)?n(r):r;return a.protocol===t.protocol&&a.host===t.host}}():function(){return!0}}function requireCancel(){if(hasRequiredCancel)return Cancel_1;function e(e){this.message=e}return hasRequiredCancel=1,e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Cancel_1=e}function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var e=utils$8,t=requireSettle(),r=requireCookies(),a=buildURL$1,n=requireBuildFullPath(),o=requireParseHeaders(),s=requireIsURLSameOrigin(),i=requireCreateError(),c=requireDefaults(),u=requireCancel();return xhr=function(l){return new Promise((function(p,f){var d,g=l.data,h=l.headers,$=l.responseType;function y(){l.cancelToken&&l.cancelToken.unsubscribe(d),l.signal&&l.signal.removeEventListener("abort",d)}e.isFormData(g)&&delete h["Content-Type"];var b=new XMLHttpRequest;if(l.auth){var m=l.auth.username||"",v=l.auth.password?unescape(encodeURIComponent(l.auth.password)):"";h.Authorization="Basic "+btoa(m+":"+v)}var T=n(l.baseURL,l.url);function S(){if(b){var e="getAllResponseHeaders"in b?o(b.getAllResponseHeaders()):null,r={data:$&&"text"!==$&&"json"!==$?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:e,config:l,request:b};t((function(e){p(e),y()}),(function(e){f(e),y()}),r),b=null}}if(b.open(l.method.toUpperCase(),a(T,l.params,l.paramsSerializer),!0),b.timeout=l.timeout,"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(S)},b.onabort=function(){b&&(f(i("Request aborted",l,"ECONNABORTED",b)),b=null)},b.onerror=function(){f(i("Network Error",l,null,b)),b=null},b.ontimeout=function(){var e=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",t=l.transitional||c.transitional;l.timeoutErrorMessage&&(e=l.timeoutErrorMessage),f(i(e,l,t.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},e.isStandardBrowserEnv()){var j=(l.withCredentials||s(T))&&l.xsrfCookieName?r.read(l.xsrfCookieName):void 0;j&&(h[l.xsrfHeaderName]=j)}"setRequestHeader"in b&&e.forEach(h,(function(e,t){void 0===g&&"content-type"===t.toLowerCase()?delete h[t]:b.setRequestHeader(t,e)})),e.isUndefined(l.withCredentials)||(b.withCredentials=!!l.withCredentials),$&&"json"!==$&&(b.responseType=l.responseType),"function"==typeof l.onDownloadProgress&&b.addEventListener("progress",l.onDownloadProgress),"function"==typeof l.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",l.onUploadProgress),(l.cancelToken||l.signal)&&(d=function(e){b&&(f(!e||e&&e.type?new u("canceled"):e),b.abort(),b=null)},l.cancelToken&&l.cancelToken.subscribe(d),l.signal&&(l.signal.aborted?d():l.signal.addEventListener("abort",d))),g||(g=null),b.send(g)}))},xhr}function requireDefaults(){if(hasRequiredDefaults)return defaults_1;hasRequiredDefaults=1;var e=utils$8,t=normalizeHeaderName,r=enhanceError,a={"Content-Type":"application/x-www-form-urlencoded"};function n(t,r){!e.isUndefined(t)&&e.isUndefined(t["Content-Type"])&&(t["Content-Type"]=r)}var o,s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(o=requireXhr()),o),transformRequest:[function(r,a){return t(a,"Accept"),t(a,"Content-Type"),e.isFormData(r)||e.isArrayBuffer(r)||e.isBuffer(r)||e.isStream(r)||e.isFile(r)||e.isBlob(r)?r:e.isArrayBufferView(r)?r.buffer:e.isURLSearchParams(r)?(n(a,"application/x-www-form-urlencoded;charset=utf-8"),r.toString()):e.isObject(r)||a&&"application/json"===a["Content-Type"]?(n(a,"application/json"),function(t,r,a){if(e.isString(t))try{return(r||JSON.parse)(t),e.trim(t)}catch(n){if("SyntaxError"!==n.name)throw n}return(0,JSON.stringify)(t)}(r)):r}],transformResponse:[function(t){var a=this.transitional||s.transitional,n=a&&a.silentJSONParsing,o=a&&a.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||o&&e.isString(t)&&t.length)try{return JSON.parse(t)}catch(c){if(i){if("SyntaxError"===c.name)throw r(c,this,"E_JSON_PARSE");throw c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),e.forEach(["post","put","patch"],(function(t){s.headers[t]=e.merge(a)})),defaults_1=s}var utils$4=utils$8,defaults$2=requireDefaults(),transformData$1=function(e,t,r){var a=this||defaults$2;return utils$4.forEach(r,(function(r){e=r.call(a,e,t)})),e},isCancel$1,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel?isCancel$1:(hasRequiredIsCancel=1,isCancel$1=function(e){return!(!e||!e.__CANCEL__)})}var utils$3=utils$8,transformData=transformData$1,isCancel=requireIsCancel(),defaults$1=requireDefaults(),Cancel=requireCancel();function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cancel("canceled")}var dispatchRequest$1=function(e){return throwIfCancellationRequested(e),e.headers=e.headers||{},e.data=transformData.call(e,e.data,e.headers,e.transformRequest),e.headers=utils$3.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),utils$3.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||defaults$1.adapter)(e).then((function(t){return throwIfCancellationRequested(e),t.data=transformData.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return isCancel(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=transformData.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},utils$2=utils$8,mergeConfig$2=function(e,t){t=t||{};var r={};function a(e,t){return utils$2.isPlainObject(e)&&utils$2.isPlainObject(t)?utils$2.merge(e,t):utils$2.isPlainObject(t)?utils$2.merge({},t):utils$2.isArray(t)?t.slice():t}function n(r){return utils$2.isUndefined(t[r])?utils$2.isUndefined(e[r])?void 0:a(void 0,e[r]):a(e[r],t[r])}function o(e){if(!utils$2.isUndefined(t[e]))return a(void 0,t[e])}function s(r){return utils$2.isUndefined(t[r])?utils$2.isUndefined(e[r])?void 0:a(void 0,e[r]):a(void 0,t[r])}function i(r){return r in t?a(e[r],t[r]):r in e?a(void 0,e[r]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:i};return utils$2.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||n,a=t(e);utils$2.isUndefined(a)&&t!==i||(r[e]=a)})),r},data,hasRequiredData;function requireData(){return hasRequiredData?data:(hasRequiredData=1,data={version:"0.25.0"})}var VERSION=requireData().version,validators$1={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){validators$1[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var deprecatedWarnings={};function assertOptions(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var a=Object.keys(e),n=a.length;n-- >0;){var o=a[n],s=t[o];if(s){var i=e[o],c=void 0===i||s(i,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+o)}}validators$1.transitional=function(e,t,r){function a(e,t){return"[Axios v"+VERSION+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,o){if(!1===e)throw new Error(a(n," has been removed"+(t?" in "+t:"")));return t&&!deprecatedWarnings[n]&&(deprecatedWarnings[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,o)}};var validator$1={assertOptions:assertOptions,validators:validators$1},utils$1=utils$8,buildURL=buildURL$1,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(e,t){if("string"==typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=mergeConfig$1(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&validator.assertOptions(r,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var a=[],n=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(n=n&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));var o,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!n){var i=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(i,a),i=i.concat(s),o=Promise.resolve(t);i.length;)o=o.then(i.shift(),i.shift());return o}for(var c=t;a.length;){var u=a.shift(),l=a.shift();try{c=u(c)}catch(p){l(p);break}}try{o=dispatchRequest(c)}catch(p){return Promise.reject(p)}for(;s.length;)o=o.then(s.shift(),s.shift());return o},Axios$1.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=mergeConfig$1(this.defaults,e),buildURL(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},utils$1.forEach(["delete","get","head","options"],(function(e){Axios$1.prototype[e]=function(t,r){return this.request(mergeConfig$1(r||{},{method:e,url:t,data:(r||{}).data}))}})),utils$1.forEach(["post","put","patch"],(function(e){Axios$1.prototype[e]=function(t,r,a){return this.request(mergeConfig$1(a||{},{method:e,url:t,data:r}))}}));var Axios_1=Axios$1,CancelToken_1,hasRequiredCancelToken,spread,hasRequiredSpread,isAxiosError,hasRequiredIsAxiosError;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var e=requireCancel();function t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var r;this.promise=new Promise((function(e){r=e}));var a=this;this.promise.then((function(e){if(a._listeners){var t,r=a._listeners.length;for(t=0;t<r;t++)a._listeners[t](e);a._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){a.subscribe(e),t=e})).then(e);return r.cancel=function(){a.unsubscribe(t)},r},t((function(t){a.reason||(a.reason=new e(t),r(a.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},t.source=function(){var e;return{token:new t((function(t){e=t})),cancel:e}},CancelToken_1=t}function requireSpread(){return hasRequiredSpread?spread:(hasRequiredSpread=1,spread=function(e){return function(t){return e.apply(null,t)}})}function requireIsAxiosError(){if(hasRequiredIsAxiosError)return isAxiosError;hasRequiredIsAxiosError=1;var e=utils$8;return isAxiosError=function(t){return e.isObject(t)&&!0===t.isAxiosError}}var utils=utils$8,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=requireDefaults();function createInstance(e){var t=new Axios(e),r=bind(Axios.prototype.request,t);return utils.extend(r,Axios.prototype,t),utils.extend(r,t),r.create=function(t){return createInstance(mergeConfig(e,t))},r}var axios$2=createInstance(defaults);axios$2.Axios=Axios,axios$2.Cancel=requireCancel(),axios$2.CancelToken=requireCancelToken(),axios$2.isCancel=requireIsCancel(),axios$2.VERSION=requireData().version,axios$2.all=function(e){return Promise.all(e)},axios$2.spread=requireSpread(),axios$2.isAxiosError=requireIsAxiosError(),axios$3.exports=axios$2,axios$3.exports.default=axios$2;var axiosExports=axios$3.exports,axios=axiosExports;const axios$1=getDefaultExportFromCjs(axios),service=axios$1.create({withCredentials:!0,timeout:7e3}),requestHandler=function(e){return e},responseHandler=function(e){return e};service.interceptors.request.use(requestHandler),service.interceptors.response.use(responseHandler);const request={install(e){e.provide("request",service)}},_sfc_main=Vue.defineComponent({name:"App",setup(){const e=Vue.inject("app"),t=Vue.ref(e?.page?.data||{});return e?.on("page-change",(e=>{if(!e)throw new Error("页面不存在");addParamToUrl({page:e.data.id},window)})),e?.dataSourceManager?.on("update-data",((r,a,n)=>{r.forEach((e=>{isPage(e)?t.value=e:replaceChildNode(Vue.reactive(e),[t.value])})),e&&Vue.nextTick((()=>{e.emit("replaced-node",{nodes:r,sourceId:a,...n})}))})),{pageConfig:t}}}),_export_sfc=exports("_",((e,t)=>{const r=e.__vccOpts||e;for(const[a,n]of t)r[a]=n;return r}));function _sfc_render(e,t,r,a,n,o){const s=Vue.resolveComponent("magic-ui-page");return Vue.openBlock(),Vue.createBlock(s,{config:e.pageConfig},null,8,["config"])}const AppComponent=_export_sfc(_sfc_main,[["render",_sfc_render]]),getLocalConfig=()=>{const configStr=localStorage.getItem("magicDSL");if(!configStr)return[];try{return[eval(`(${configStr})`)]}catch(err){return[]}},magicApp=Vue.createApp(AppComponent);magicApp.use(request),Object.entries(components).forEach((([e,t])=>{magicApp.component(`magic-ui-${e}`,Vue.defineAsyncComponent(t))})),Object.values(plugins).forEach((e=>{magicApp.use(e)}));const dsl=((getUrlParam("localPreview")?getLocalConfig():window.magicDSL)||[])[0]||{};registerDataSourceOnDemand(dsl,datasources).then((e=>{Object.entries(e).forEach((([e,t])=>{DataSourceManager$1.register(e,t)}));const t=new App$1({ua:window.navigator.userAgent,config:dsl,curPage:getUrlParam("page"),useMock:Boolean(getUrlParam("useMock"))});t.setDesignWidth(t.env.isWeb?window.document.documentElement.getBoundingClientRect().width:375),magicApp.config.globalProperties.app=t,magicApp.provide("app",t),magicApp.mount("#app")}))}}}))})();
//# sourceMappingURL=index-legacy-ofU10GQ1.js.map
